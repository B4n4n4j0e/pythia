{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/someone/projects/pythia/client/src/components/ViewDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/someone/projects/pythia/client/src/components/ViewDialog.vue","mtime":1643631829334},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js","mtime":1643623769500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgdmlld0RhdGFUb0NoYXJ0TmFtZSwKICB0eXBlRGF0YVRvU3RvcmVUeXBlRGF0YSwKfSBmcm9tICIuLi9oZWxwZXJGdW5jdGlvbnMvbGFiZWxIZWxwZXJGdW5jdGlvbiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcHV0ZWQ6IHsKICAgIGRhdGFPcHRpb25zKCkgewogICAgICB2YXIgcmVzdWx0ID0gWwogICAgICAgICJDb25uZWN0aW9ucyBwZXIgdGltZXVuaXQiLAogICAgICAgICJEYXRhIHZvbHVtZSBzdW1tYXJ5IiwKICAgICAgICAiRGF0YSB2b2x1bWUgcGVyIHRpbWV1bml0IiwKICAgICAgICAiRE5TIHF1ZXJpZXMgdG9wIGsiLAogICAgICAgICJPcmlnaW4gaG9zdHMgdG9wIGsiLAogICAgICAgICJQb3J0cyBvZiBpbnRlcmVzdCBzdW1tYXJ5IiwKICAgICAgICAiUHJvdG9jb2xzIHN1bW1hcnkiLAogICAgICAgICJSZXNwIGhvc3RzIHRvcCBrIiwKICAgICAgICAiUmVzcCBwb3J0cyB0b3AgayIsCiAgICAgICAgIlNlcnZpY2VzIHN1bW1hcnkiLAogICAgICBdOwogICAgICBpZiAodGhpcy5zZWxlY3RlZERhdGFUeXBlID09ICJTdW1tYXJ5IERhdGEiKSB7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXN1bHQudW5zaGlmdCgiQ29ubmVjdGlvbiB0YWJsZSIsICJETlMgdGFibGUiLCAiTm90aWNlIHRhYmxlIik7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgfSwKCiAgICB2aWV3T3B0aW9ucygpIHsKICAgICAgdmFyIHN1bW1hcmllcyA9IFsKICAgICAgICAiRE5TIHF1ZXJpZXMgdG9wIGsiLAogICAgICAgICJPcmlnaW4gaG9zdHMgdG9wIGsiLAogICAgICAgICJSZXNwIGhvc3RzIHRvcCBrIiwKICAgICAgICAiUmVzcCBwb3J0cyB0b3AgayIsCiAgICAgICAgIlBvcnRzIG9mIGludGVyZXN0IHN1bW1hcnkiLAogICAgICAgICJQcm90b2NvbHMgc3VtbWFyeSIsCiAgICAgICAgIlNlcnZpY2VzIHN1bW1hcnkiLAogICAgICAgICJEYXRhIHZvbHVtZSBzdW1tYXJ5IiwKICAgICAgXTsKICAgICAgdmFyIGxpbmVDaGFydHMgPSBbIkNvbm5lY3Rpb25zIHBlciB0aW1ldW5pdCIsICJEYXRhIHZvbHVtZSBwZXIgdGltZXVuaXQiXTsKICAgICAgaWYgKHN1bW1hcmllcy5pbmNsdWRlcyh0aGlzLnNlbGVjdGVkRGF0YSkpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgIkJhciBjaGFydCBob3Jpem9udGFsIiwKICAgICAgICAgICJCYXIgY2hhcnQgdmVydGljYWwiLAogICAgICAgICAgIlBpZSBjaGFydCIsCiAgICAgICAgICAiVHJlZU1hcCIsCiAgICAgICAgXTsKICAgICAgfSBlbHNlIGlmIChsaW5lQ2hhcnRzLmluY2x1ZGVzKHRoaXMuc2VsZWN0ZWREYXRhKSkgewogICAgICAgIHJldHVybiBbIkxpbmUgY2hhcnQiXTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkRGF0YSA9PSAiQ29ubmVjdGlvbiB0YWJsZSIpIHsKICAgICAgICByZXR1cm4gWyJDb25uZWN0aW9uIHRhYmxlIl07CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZERhdGEgPT0gIkROUyB0YWJsZSIpIHsKICAgICAgICByZXR1cm4gWyJETlMgdGFibGUiXTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkRGF0YSA9PSAiTm90aWNlIHRhYmxlIikgewogICAgICAgIHJldHVybiBbIk5vdGljZSB0YWJsZSJdOwogICAgICB9IGVsc2UgcmV0dXJuIFtdOwogICAgfSwKICAgIGRpYWxvZygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZzsKICAgIH0sCiAgfSwKCiAgd2F0Y2g6IHsKICAgIGRpYWxvZzogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy5kaWFsb2cgPT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldERpYWxvZyIsIGZhbHNlKTsKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nSXNTdW1tYXJ5KSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0YVR5cGUgPSAiU3VtbWFyeSBEYXRhIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZWxlY3RlZERhdGFUeXBlID0gIkRldGFpbCBEYXRhIjsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhc2V0ID0gdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nTmFtZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5kaWFsb2dUaXRsZSA9ICJFZGl0IFZpZXciOwogICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhID0gdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nRGF0YUxhYmVsOwogICAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3ID0gdGhpcy4kc3RvcmUuc3RhdGUuZGlhbG9nVmlld0xhYmVsOwogICAgICAgIHRoaXMud2luZG93V2lkdGggPSB0aGlzLiRzdG9yZS5zdGF0ZS5kaWFsb2dDb2xzOwogICAgICAgIHRoaXMuZGlhbG9nQm9vbCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgZGlhbG9nQm9vbDogZmFsc2UsCiAgICBkaWFsb2dUaXRsZTogIkFkZCB2aWV3IiwKICAgIHNlbGVjdGVkRGF0YVR5cGU6ICIiLAogICAgc2VsZWN0ZWRWaWV3OiAiIiwKICAgIHNlbGVjdGVkRGF0YTogIiIsCiAgICB3aW5kb3dXaWR0aDogNiwKICB9KSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5zZWxlY3RlZERhdGFUeXBlID0gIiI7CiAgICAgIHRoaXMuc2VsZWN0ZWRWaWV3ID0gIiI7CiAgICAgIHRoaXMuZGlhbG9nVGl0bGUgPSAiQWRkIHZpZXciOwogICAgICB0aGlzLnNlbGVjdGVkRGF0YSA9ICIiOwogICAgICB0aGlzLmRpYWxvZ0Jvb2wgPSBmYWxzZTsKICAgIH0sCgogICAgc2F2ZVZpZXcoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLnNlbGVjdGVkRGF0YVR5cGUgPT0gIiIgfHwKICAgICAgICB0aGlzLnNlbGVjdGVkVmlldyA9PSAiIiB8fAogICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhID09ICIiCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgc3VtbWFyeTsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREYXRhVHlwZSA9PSAiU3VtbWFyeSBEYXRhIikgewogICAgICAgIHN1bW1hcnkgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHN1bW1hcnkgPSBmYWxzZTsKICAgICAgfQogICAgICB2YXIgdmlld0RhdGEgPSB7CiAgICAgICAgdmlldzogdmlld0RhdGFUb0NoYXJ0TmFtZSh0aGlzLnNlbGVjdGVkVmlldyksCiAgICAgICAgdHlwZTogdHlwZURhdGFUb1N0b3JlVHlwZURhdGEodGhpcy5zZWxlY3RlZERhdGEpLAogICAgICAgIGRhdGFMYWJlbDogdGhpcy5zZWxlY3RlZERhdGEsCiAgICAgICAgdmlld0xhYmVsOiB0aGlzLnNlbGVjdGVkVmlldywKICAgICAgICBjb2xzOiB0aGlzLndpbmRvd1dpZHRoLAogICAgICAgIGlzU3VtbWFyeTogc3VtbWFyeSwKICAgICAgICBpc0Zyb3plbjogZmFsc2UsCiAgICAgIH07CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhZGRWaWV3Iiwgdmlld0RhdGEpOwogICAgICB0aGlzLmNsb3NlRGlhbG9nKCk7CiAgICB9LAoKICAgIHVwZGF0ZVZpZXcoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLnNlbGVjdGVkRGF0YVR5cGUgPT0gIiIgfHwKICAgICAgICB0aGlzLnNlbGVjdGVkVmlldyA9PSAiIiB8fAogICAgICAgIHRoaXMuc2VsZWN0ZWREYXRhID09ICIiCiAgICAgICkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgc3VtbWFyeTsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWREYXRhVHlwZSA9PSAiU3VtbWFyeSBEYXRhIikgewogICAgICAgIHN1bW1hcnkgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHN1bW1hcnkgPSBmYWxzZTsKICAgICAgfQogICAgICB2YXIgdmlld0RhdGEgPSB7CiAgICAgICAgaWQ6IHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZ0NoYXJ0TnVtYmVyLAogICAgICAgIHZpZXc6IHZpZXdEYXRhVG9DaGFydE5hbWUodGhpcy5zZWxlY3RlZFZpZXcpLAogICAgICAgIHR5cGU6IHR5cGVEYXRhVG9TdG9yZVR5cGVEYXRhKHRoaXMuc2VsZWN0ZWREYXRhKSwKICAgICAgICBkYXRhTGFiZWw6IHRoaXMuc2VsZWN0ZWREYXRhLAogICAgICAgIHZpZXdMYWJlbDogdGhpcy5zZWxlY3RlZFZpZXcsCiAgICAgICAgY29sczogdGhpcy53aW5kb3dXaWR0aCwKICAgICAgICBpc1N1bW1hcnk6IHN1bW1hcnksCiAgICAgICAgaXNGcm96ZW46IHRoaXMuJHN0b3JlLnN0YXRlLmRpYWxvZ0lzRnJvemVuLAogICAgICB9OwogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlVmlldyIsIHZpZXdEYXRhKTsKICAgICAgdGhpcy5jbG9zZURpYWxvZygpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["ViewDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewDialog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container class=\"mt-4\" fluid>\n    <v-row justify=\"center\">\n      <v-dialog v-model=\"dialogBool\" persistent max-width=\"600px\">\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn dark v-bind=\"attrs\" v-on=\"on\" class=\"mx-2\" fab color=\"primary\">\n            <v-icon dark> mdi-plus </v-icon>\n          </v-btn>\n        </template>\n        <v-card>\n          <v-card-title>\n            <span class=\"text-h5\">{{ dialogTitle }}</span>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col>\n                  <v-select\n                    v-model=\"selectedDataType\"\n                    :items=\"['Summary Data', 'Detail Data']\"\n                    label=\"Data type*\"\n                    required\n                  ></v-select>\n                </v-col>\n                <v-col cols=\"12\" sm=\"6\">\n                  <v-select\n                    v-model=\"selectedData\"\n                    :disabled=\"selectedDataType == ''\"\n                    :items=\"dataOptions\"\n                    label=\"Choose data*\"\n                    required\n                  ></v-select>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col cols=\"12\" sm=\"6\">\n                  <v-select\n                    v-model=\"selectedView\"\n                    :disabled=\"selectedData == ''\"\n                    :items=\"viewOptions\"\n                    label=\"Choose view*\"\n                    required\n                  ></v-select>\n                </v-col>\n                <v-col cols=\"3\">\n                  <v-select\n                    v-model=\"windowWidth\"\n                    :items=\"[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\"\n                    label=\"Width*\"\n                    required\n                  ></v-select>\n                </v-col>\n              </v-row>\n            </v-container>\n            <small>*indicates required field</small>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n\n            <v-btn color=\"primary\" text @click=\"closeDialog\"> Close </v-btn>\n            <v-btn\n              color=\"primary\"\n              :disabled=\"!viewOptions.includes(selectedView)\"\n              text\n              v-on=\"\n                dialogTitle == 'Add view'\n                  ? { click: () => saveView() }\n                  : { click: () => updateView() }\n              \"\n            >\n              Save\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport {\n  viewDataToChartName,\n  typeDataToStoreTypeData,\n} from \"../helperFunctions/labelHelperFunction\";\n\nexport default {\n  computed: {\n    dataOptions() {\n      var result = [\n        \"Connections per timeunit\",\n        \"Data volume summary\",\n        \"Data volume per timeunit\",\n        \"DNS queries top k\",\n        \"Origin hosts top k\",\n        \"Ports of interest summary\",\n        \"Protocols summary\",\n        \"Resp hosts top k\",\n        \"Resp ports top k\",\n        \"Services summary\",\n      ];\n      if (this.selectedDataType == \"Summary Data\") {\n        return result;\n      } else {\n        result.unshift(\"Connection table\", \"DNS table\", \"Notice table\");\n        return result;\n      }\n    },\n\n    viewOptions() {\n      var summaries = [\n        \"DNS queries top k\",\n        \"Origin hosts top k\",\n        \"Resp hosts top k\",\n        \"Resp ports top k\",\n        \"Ports of interest summary\",\n        \"Protocols summary\",\n        \"Services summary\",\n        \"Data volume summary\",\n      ];\n      var lineCharts = [\"Connections per timeunit\", \"Data volume per timeunit\"];\n      if (summaries.includes(this.selectedData)) {\n        return [\n          \"Bar chart horizontal\",\n          \"Bar chart vertical\",\n          \"Pie chart\",\n          \"TreeMap\",\n        ];\n      } else if (lineCharts.includes(this.selectedData)) {\n        return [\"Line chart\"];\n      } else if (this.selectedData == \"Connection table\") {\n        return [\"Connection table\"];\n      } else if (this.selectedData == \"DNS table\") {\n        return [\"DNS table\"];\n      } else if (this.selectedData == \"Notice table\") {\n        return [\"Notice table\"];\n      } else return [];\n    },\n    dialog() {\n      return this.$store.state.dialog;\n    },\n  },\n\n  watch: {\n    dialog: function () {\n      if (this.dialog == false) {\n        return;\n      } else {\n        this.$store.dispatch(\"setDialog\", false);\n        if (this.$store.state.dialogIsSummary) {\n          this.selectedDataType = \"Summary Data\";\n        } else {\n          this.selectedDataType = \"Detail Data\";\n          this.selectedDataset = this.$store.state.dialogName;\n        }\n        this.dialogTitle = \"Edit View\";\n        this.selectedData = this.$store.state.dialogDataLabel;\n        this.selectedView = this.$store.state.dialogViewLabel;\n        this.windowWidth = this.$store.state.dialogCols;\n        this.dialogBool = true;\n      }\n    },\n  },\n  data: () => ({\n    dialogBool: false,\n    dialogTitle: \"Add view\",\n    selectedDataType: \"\",\n    selectedView: \"\",\n    selectedData: \"\",\n    windowWidth: 6,\n  }),\n  methods: {\n    closeDialog() {\n      this.selectedDataType = \"\";\n      this.selectedView = \"\";\n      this.dialogTitle = \"Add view\";\n      this.selectedData = \"\";\n      this.dialogBool = false;\n    },\n\n    saveView() {\n      if (\n        this.selectedDataType == \"\" ||\n        this.selectedView == \"\" ||\n        this.selectedData == \"\"\n      ) {\n        return;\n      }\n      var summary;\n      if (this.selectedDataType == \"Summary Data\") {\n        summary = true;\n      } else {\n        summary = false;\n      }\n      var viewData = {\n        view: viewDataToChartName(this.selectedView),\n        type: typeDataToStoreTypeData(this.selectedData),\n        dataLabel: this.selectedData,\n        viewLabel: this.selectedView,\n        cols: this.windowWidth,\n        isSummary: summary,\n        isFrozen: false,\n      };\n      this.$store.dispatch(\"addView\", viewData);\n      this.closeDialog();\n    },\n\n    updateView() {\n      if (\n        this.selectedDataType == \"\" ||\n        this.selectedView == \"\" ||\n        this.selectedData == \"\"\n      ) {\n        return;\n      }\n      var summary;\n      if (this.selectedDataType == \"Summary Data\") {\n        summary = true;\n      } else {\n        summary = false;\n      }\n      var viewData = {\n        id: this.$store.state.dialogChartNumber,\n        view: viewDataToChartName(this.selectedView),\n        type: typeDataToStoreTypeData(this.selectedData),\n        dataLabel: this.selectedData,\n        viewLabel: this.selectedView,\n        cols: this.windowWidth,\n        isSummary: summary,\n        isFrozen: this.$store.state.dialogIsFrozen,\n      };\n      this.$store.dispatch(\"updateView\", viewData);\n      this.closeDialog();\n    },\n  },\n};\n</script>"]}]}