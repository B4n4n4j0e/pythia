{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/someone/projects/pythia/client/src/components/chartComponents/BarChart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/someone/projects/pythia/client/src/components/chartComponents/BarChart.vue","mtime":1643621347711},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js","mtime":1643623769500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDaGFydENvbnRyb2xzIGZyb20gIi4uL0NoYXJ0Q29udHJvbHMudnVlIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwppbXBvcnQgewogIGhhbmRsZUZpbHRlckNsaWNrLAogIGlzRmlsdGVyZWQsCn0gZnJvbSAiLi4vLi4vaGVscGVyRnVuY3Rpb25zL2dyYXBoSGVscGVyRnVuY3Rpb25zIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IENoYXJ0Q29udHJvbHMgfSwKICBuYW1lOiAiQmFyQ2hhcnQiLAogIHByb3BzOiB7CiAgICBkYXRhOiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIGRlZmF1bHQ6IDMwMCwKICAgICAgdHlwZTogTnVtYmVyLAogICAgfSwKICAgIGhlaWdodDogewogICAgICBkZWZhdWx0OiAzMDAsCiAgICAgIHR5cGU6IE51bWJlciwKICAgIH0sCiAgICBjaGFydE51bWJlcjogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogTnVtYmVyLAogICAgfSwKICAgIGlzU3VtbWFyeTogewogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgdHlwZTogQm9vbGVhbiwKICAgIH0sCiAgICAgICAgaXNGcm96ZW46IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IEJvb2xlYW4KICAgIH0KICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICAgICAgbWFyZ2luOiB7IHRvcDogNSwgcmlnaHQ6IDEwLCBib3R0b206IDEwLCBsZWZ0OiAzNSB9LAoKICB9KSwKICBjb21wdXRlZDogewogICAgaWQoKSB7CiAgICAgIHJldHVybiAiY2hhcnQiICsgdGhpcy5jaGFydE51bWJlci50b1N0cmluZygpOwogICAgfSwKIAoKICAgICBmaWx0ZXJTZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWyJmaWx0ZXJCeVR5cGUiXSh0aGlzLmRhdGEuZmlsdGVyVHlwZSk7CiAgICB9LAoKICAgIG5lZ2F0aXZlRmlsdGVyU2V0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1sibmVnYXRpdmVGaWx0ZXJCeVR5cGUiXSh0aGlzLmRhdGEuZmlsdGVyVHlwZSk7CiAgICB9LAoKICAgIHBheWxvYWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmRhdGEucGF5bG9hZDsKICAgIH0sCgogICAgbG9hZGluZygpewogICAgICByZXR1cm4gdGhpcy5kYXRhLmxvYWRpbmcKICAgIH0sCiAgICBjaGFydFdpZHRoKCkgewogICAgICByZXR1cm4gdGhpcy53aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodDsKICAgIH0sCiAgICBjaGFydEhlaWdodCgpIHsKICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0IC0gdGhpcy5tYXJnaW4udG9wIC0gdGhpcy5tYXJnaW4uYm90dG9tOwogICAgfSwKCiAgfSwKCiAgd2F0Y2g6IHsKICAgIHBheWxvYWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuaXNGcm96ZW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVDaGFydCgpOwogICAgICB9CiAgICB9LAoKICAgIGlzRnJvemVuKCkgewogICAgICBpZiAodGhpcy5pc0Zyb3plbil7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgdGhpcy51cGRhdGVDaGFydCgpOwogICAgICB9CiAgICB9LAoKICAgICAgZmlsdGVyU2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY2hhbmdlRmlsdGVyKCk7CiAgICB9LAogICAgbmVnYXRpdmVGaWx0ZXJTZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jaGFuZ2VGaWx0ZXIoKTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogIHRoaXMuY3JlYXRlQmFyQ2hhcnQoKQogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlQmFyQ2hhcnQoKSB7CiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiMiICsgdGhpcy5pZCkuYXBwZW5kKCJnIik7CiAgICAgIHN2Zy5hdHRyKAogICAgICAgICAgInRyYW5zZm9ybSIsCiAgICAgICAgICAidHJhbnNsYXRlKCIgKyB0aGlzLm1hcmdpbi5sZWZ0ICsgIiwiICsgdGhpcy5tYXJnaW4udG9wICsgIikiCiAgICAgICAgKTsKICAgICAgdmFyIGNvbnRlbnQgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCdjb250ZW50JyArIHRoaXMuY2hhcnROdW1iZXIpOwogICAgICBjb250ZW50LmFwcGVuZCgiZyIpLmF0dHIoImNsYXNzIiwgImF4aXMiICsgdGhpcy5jaGFydE51bWJlcik7CiAgICAgIGNvbnRlbnQuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAiYmFycyIgKyB0aGlzLmNoYXJ0TnVtYmVyKTsKICAgICAgY29udGVudC5hdHRyKCJ0cmFuc2Zvcm0iLCAidHJhbnNsYXRlKDAsIiArIHRoaXMuY2hhcnRIZWlnaHQgKyAiKSIpOwogICAgICBjb250ZW50CiAgICAgICAgLnNlbGVjdCgiZy5heGlzIiArIHRoaXMuY2hhcnROdW1iZXIpCiAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgInlBeGlzIiArIHRoaXMuY2hhcnROdW1iZXIpOwogICAgICBjb250ZW50CiAgICAgICAgLnNlbGVjdCgiZy5heGlzIiArIHRoaXMuY2hhcnROdW1iZXIpCiAgICAgICAgLmFwcGVuZCgiZyIpCiAgICAgICAgLmF0dHIoImNsYXNzIiwgInhBeGlzIiArIHRoaXMuY2hhcnROdW1iZXIpOwogICAgICAgICAgIGNvbnRlbnQKICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAuYXR0cigiY2xhc3MiLCAidGV4dCIgKyB0aGlzLmNoYXJ0TnVtYmVyKQogICAgICAgIC5hdHRyKCJmaWxsIiwgIndoaXRlIikKICAgICAgICAuYXR0cigidGV4dC1hbmNob3IiLCAic3RhcnQiKQogICAgICAgIC5hdHRyKCJmb250LWZhbWlseSIsICJzYW5zLXNlcmlmIikKICAgICAgICAuYXR0cigiZm9udC1zaXplIiwgOSk7CiAgICB9LAogICAgdXBkYXRlQ2hhcnQoKSB7CgogICAgICBjb25zdCB2bSA9IHRoaXM7CgogICAgICB2YXIgc2NYID0gZDMKICAgICAgICAuc2NhbGVCYW5kKCkKICAgICAgICAucmFuZ2UoWzAsIHRoaXMuY2hhcnRXaWR0aF0pCiAgICAgICAgLmRvbWFpbigKICAgICAgICAgIHRoaXMucGF5bG9hZC5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIGQubmFtZTsKICAgICAgICAgIH0pCiAgICAgICAgKQogICAgICAgIC5wYWRkaW5nKDAuMSk7CgogICAgICB2YXIgc2NZID0gZDMKICAgICAgICAuc2NhbGVMaW5lYXIoKQogICAgICAgIC5yYW5nZShbMCwgLSB0aGlzLmNoYXJ0SGVpZ2h0XSkKICAgICAgICAuZG9tYWluKFsKICAgICAgICAgIDAsCiAgICAgICAgICAxLjEgKgogICAgICAgICAgICBkMy5tYXgodGhpcy5wYXlsb2FkLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgIHJldHVybiBkLnZhbHVlOwogICAgICAgICAgICB9KSwKICAgICAgICBdKTsKCiAgICAgIHZhciBiYXJXaWR0aCA9ICh0aGlzLmNoYXJ0V2lkdGgpIC8gdGhpcy5wYXlsb2FkLmxlbmd0aDsKCiAKICAgICAgdmFyIGJhcnMgPSBkMwogICAgICAgIC5zZWxlY3QoImcuYmFycyIgKyB0aGlzLmNoYXJ0TnVtYmVyKQogICAgICAgIC5zZWxlY3RBbGwoInJlY3QiKQogICAgICAgIC5kYXRhKHRoaXMucGF5bG9hZCk7CgogICAgICBiYXJzCiAgICAgICAgLmVudGVyKCkKICAgICAgICAuYXBwZW5kKCJyZWN0IikKICAgICAgICAuYXR0cigiY2xhc3MiLCAiYmFyIiArIHRoaXMuY2hhcnROdW1iZXIpCiAgICAgICAgLmF0dHIoIngiLCBmdW5jdGlvbiAoZCwgaSkgewogICAgICAgICAgcmV0dXJuIGkgKiBiYXJXaWR0aCArIDE7CiAgICAgICAgfSkKICAgICAgICAuYXR0cigieSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gc2NZKGQudmFsdWUpOwogICAgICAgIH0pCiAgICAgICAgLmF0dHIoImhlaWdodCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICByZXR1cm4gLXNjWShkLnZhbHVlKTsKICAgICAgICB9KQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIGJhcldpZHRoIC0gNSkKICAgICAgICAuc3R5bGUoImZpbGwiLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgaWYgKGlzRmlsdGVyZWQoZCwgdm0pKSB7CiAgICAgICAgICAgIHJldHVybiAidmFyKC0tdi10ZXJ0aWFyeS1iYXNlKSI7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gInZhcigtLXYtcHJpbWFyeS1iYXNlKSI7CiAgICAgICAgfSkKICAgICAgICAuYXR0cigib3BhY2l0eSIsIDAuOCkKICAgICAgICAub24oImNsaWNrIiwgZnVuY3Rpb24gKGQsIGZpbHRlcikgewogICAgICAgICAgaGFuZGxlRmlsdGVyQ2xpY2sodm0sIGZpbHRlcik7CiAgICAgICAgfSk7CiAgICAgIGJhcnMKICAgICAgICAudHJhbnNpdGlvbigpCiAgICAgICAgLmR1cmF0aW9uKDEwMDApCiAgICAgICAgLmF0dHIoInkiLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIHNjWShkLnZhbHVlKTsKICAgICAgICB9KQogICAgICAgIC5hdHRyKCJoZWlnaHQiLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIC1zY1koZC52YWx1ZSk7CiAgICAgICAgfSkKICAgICAgICAuYXR0cigieCIsIGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgICByZXR1cm4gaSAqIGJhcldpZHRoICsgMTsKICAgICAgICB9KQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIGJhcldpZHRoIC0gMSkKICAgICAgICAuYXR0cigid2lkdGgiLCBiYXJXaWR0aCAtIDUpCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIGlmIChpc0ZpbHRlcmVkKGQsIHZtKSkgewogICAgICAgICAgICByZXR1cm4gInZhcigtLXYtdGVydGlhcnktYmFzZSkiOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuICJ2YXIoLS12LXByaW1hcnktYmFzZSkiOwogICAgICAgIH0pOwoKICAgICAgYmFycy5leGl0KCkucmVtb3ZlKCk7CgoKICAgdmFyIHRleHQgPSBkMwogICAgICAgIC5zZWxlY3QoImcudGV4dCIgKyB0aGlzLmNoYXJ0TnVtYmVyKQogICAgICAgIC5zZWxlY3RBbGwoInRleHQiKQogICAgICAgIC5kYXRhKHRoaXMucGF5bG9hZCk7CiAgICAgIHRleHQuZW50ZXIoKTsKICAgICAgdGV4dAogICAgICAgIC5qb2luKCJ0ZXh0IikKICAgICAgICAuYXR0cigieCIsIDApCiAgICAgICAgLmF0dHIoInkiLChkKSA9PiB7CiAgICAgICAgICByZXR1cm4gc2NYKGQubmFtZSkgKyBzY1guYmFuZHdpZHRoKCkgLzN9CiAgICAgICAgICApCiAgICAgICAgLmF0dHIoImR5IiwgIjAuMzVlbSIpCiAgICAgICAgLmF0dHIoImR4IiwgKzQpCiAgICAgICAgLnN0eWxlKCJmaWxsIiwgInZhcigtLXYtdGV4dC1iYXNlKSIpCiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoMjcwKScpCiAgICAgICAgLnRleHQoKGQpID0+IGQubmFtZSkKICAgICAgICAuY2FsbCgodGV4dCkgPT4KICAgICAgICAgIHRleHQKICAgICAgICAgICAgLmZpbHRlcigoZCkgPT4gc2NZKGQudmFsdWUpID4gLTEwMCkgLy8gc2hvcnQgYmFycwogICAgICAgICAgICAuYXR0cigieCIsIChkKSA9PiAgLXNjWShkLnZhbHVlKSkKICAgICAgICAgICAgLmF0dHIoImR4IiwgKzQpCiAgICAgICAgICAgIC5hdHRyKCJ0ZXh0LWFuY2hvciIsICJzdGFydCIpCiAgICAgICAgKTsKCiAgICAgIHRleHQuZXhpdCgpLnJlbW92ZSgpOwoKICBpZiAodGhpcy5wYXlsb2FkLmxlbmd0aD4gMCkgewogIHZhciB4QXhpcyA9IGQzLmF4aXNCb3R0b20oc2NYKS50aWNrRm9ybWF0KCgpID0+IHtyZXR1cm4gIiI7fSkudGlja1NpemUoMCk7CiAgdmFyIHlBeGlzID0gZDMuYXhpc0xlZnQoc2NZKS50aWNrcygxMCwicyIpCgogIGQzLnNlbGVjdCgiZy55QXhpcyIgKyB0aGlzLmNoYXJ0TnVtYmVyKS5jYWxsKHlBeGlzKTsKCiAgZDMuc2VsZWN0KCJnLnhBeGlzIiArIHRoaXMuY2hhcnROdW1iZXIpCiAgICAuY2FsbCh4QXhpcykKICB9CiAgZWxzZSB7CiAgICBkMy5zZWxlY3QoImcueUF4aXMiICsgdGhpcy5jaGFydE51bWJlcikuc2VsZWN0QWxsKCcqJykucmVtb3ZlKCkKICAgIGQzLnNlbGVjdCgiZy54QXhpcyIgKyB0aGlzLmNoYXJ0TnVtYmVyKS5zZWxlY3RBbGwoKCcqJykpLnJlbW92ZSgpCgogIH0KCiAgICB9LAoKICAgIGNoYW5nZUZpbHRlcigpIHsKICAgICAgY29uc3Qgdm0gPSB0aGlzOwogICAgICBkMy5zZWxlY3QoImcuYmFycyIgKyB0aGlzLmNoYXJ0TnVtYmVyKQogICAgICAgIC5zZWxlY3RBbGwoInJlY3QiKQogICAgICAgIC5zdHlsZSgiZmlsbCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICBpZiAoaXNGaWx0ZXJlZChkLCB2bSkpIHsKICAgICAgICAgICAgcmV0dXJuICJ2YXIoLS12LXRlcnRpYXJ5LWJhc2UpIjsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiAidmFyKC0tdi1wcmltYXJ5LWJhc2UpIjsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["BarChart.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BarChart.vue","sourceRoot":"src/components/chartComponents","sourcesContent":["<template>\n  <v-card>\n    \n    <ChartControls v-bind:chartNumber=\"chartNumber\" class=\"mb-0\" />\n      <v-progress-circular v-if=\"loading && !isFrozen\"\n      indeterminate\n      color=\"success\"\n    ></v-progress-circular> \n    <svg :id=\"id\" viewBox=\"0 0 300 300\"></svg>\n  </v-card>\n</template>\n\n<script>\nimport ChartControls from \"../ChartControls.vue\";\nimport * as d3 from \"d3\";\nimport {\n  handleFilterClick,\n  isFiltered,\n} from \"../../helperFunctions/graphHelperFunctions\";\n\nexport default {\n  components: { ChartControls },\n  name: \"BarChart\",\n  props: {\n    data: {\n      required: true,\n    },\n    width: {\n      default: 300,\n      type: Number,\n    },\n    height: {\n      default: 300,\n      type: Number,\n    },\n    chartNumber: {\n      required: true,\n      type: Number,\n    },\n    isSummary: {\n      required: true,\n      type: Boolean,\n    },\n        isFrozen: {\n      required: true,\n      type: Boolean\n    }\n  },\n  data: () => ({\n        margin: { top: 5, right: 10, bottom: 10, left: 35 },\n\n  }),\n  computed: {\n    id() {\n      return \"chart\" + this.chartNumber.toString();\n    },\n \n\n     filterSet() {\n      return this.$store.getters[\"filterByType\"](this.data.filterType);\n    },\n\n    negativeFilterSet() {\n      return this.$store.getters[\"negativeFilterByType\"](this.data.filterType);\n    },\n\n    payload() {\n      return this.data.payload;\n    },\n\n    loading(){\n      return this.data.loading\n    },\n    chartWidth() {\n      return this.width - this.margin.left - this.margin.right;\n    },\n    chartHeight() {\n      return this.height - this.margin.top - this.margin.bottom;\n    },\n\n  },\n\n  watch: {\n    payload: function () {\n      if (this.isFrozen) {\n        return;\n      } else {\n        this.updateChart();\n      }\n    },\n\n    isFrozen() {\n      if (this.isFrozen){\n        return\n      }\n      else {\n        this.updateChart();\n      }\n    },\n\n      filterSet: function () {\n      this.changeFilter();\n    },\n    negativeFilterSet: function () {\n      this.changeFilter();\n    },\n  },\n  mounted() {\n  this.createBarChart()\n  },\n  methods: {\n    createBarChart() {\n      var svg = d3.select(\"#\" + this.id).append(\"g\");\n      svg.attr(\n          \"transform\",\n          \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\"\n        );\n      var content = svg.append('g').attr('class','content' + this.chartNumber);\n      content.append(\"g\").attr(\"class\", \"axis\" + this.chartNumber);\n      content.append(\"g\").attr(\"class\", \"bars\" + this.chartNumber);\n      content.attr(\"transform\", \"translate(0,\" + this.chartHeight + \")\");\n      content\n        .select(\"g.axis\" + this.chartNumber)\n        .append(\"g\")\n        .attr(\"class\", \"yAxis\" + this.chartNumber);\n      content\n        .select(\"g.axis\" + this.chartNumber)\n        .append(\"g\")\n        .attr(\"class\", \"xAxis\" + this.chartNumber);\n           content\n        .append(\"g\")\n        .attr(\"class\", \"text\" + this.chartNumber)\n        .attr(\"fill\", \"white\")\n        .attr(\"text-anchor\", \"start\")\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"font-size\", 9);\n    },\n    updateChart() {\n\n      const vm = this;\n\n      var scX = d3\n        .scaleBand()\n        .range([0, this.chartWidth])\n        .domain(\n          this.payload.map(function (d) {\n            return d.name;\n          })\n        )\n        .padding(0.1);\n\n      var scY = d3\n        .scaleLinear()\n        .range([0, - this.chartHeight])\n        .domain([\n          0,\n          1.1 *\n            d3.max(this.payload, function (d) {\n              return d.value;\n            }),\n        ]);\n\n      var barWidth = (this.chartWidth) / this.payload.length;\n\n \n      var bars = d3\n        .select(\"g.bars\" + this.chartNumber)\n        .selectAll(\"rect\")\n        .data(this.payload);\n\n      bars\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"bar\" + this.chartNumber)\n        .attr(\"x\", function (d, i) {\n          return i * barWidth + 1;\n        })\n        .attr(\"y\", function (d) {\n          return scY(d.value);\n        })\n        .attr(\"height\", function (d) {\n          return -scY(d.value);\n        })\n        .attr(\"width\", barWidth - 5)\n        .style(\"fill\", function (d) {\n          if (isFiltered(d, vm)) {\n            return \"var(--v-tertiary-base)\";\n          }\n          return \"var(--v-primary-base)\";\n        })\n        .attr(\"opacity\", 0.8)\n        .on(\"click\", function (d, filter) {\n          handleFilterClick(vm, filter);\n        });\n      bars\n        .transition()\n        .duration(1000)\n        .attr(\"y\", function (d) {\n          return scY(d.value);\n        })\n        .attr(\"height\", function (d) {\n          return -scY(d.value);\n        })\n        .attr(\"x\", function (d, i) {\n          return i * barWidth + 1;\n        })\n        .attr(\"width\", barWidth - 1)\n        .attr(\"width\", barWidth - 5)\n        .style(\"fill\", function (d) {\n          if (isFiltered(d, vm)) {\n            return \"var(--v-tertiary-base)\";\n          }\n          return \"var(--v-primary-base)\";\n        });\n\n      bars.exit().remove();\n\n\n   var text = d3\n        .select(\"g.text\" + this.chartNumber)\n        .selectAll(\"text\")\n        .data(this.payload);\n      text.enter();\n      text\n        .join(\"text\")\n        .attr(\"x\", 0)\n        .attr(\"y\",(d) => {\n          return scX(d.name) + scX.bandwidth() /3}\n          )\n        .attr(\"dy\", \"0.35em\")\n        .attr(\"dx\", +4)\n        .style(\"fill\", \"var(--v-text-base)\")\n        .attr('transform', 'rotate(270)')\n        .text((d) => d.name)\n        .call((text) =>\n          text\n            .filter((d) => scY(d.value) > -100) // short bars\n            .attr(\"x\", (d) =>  -scY(d.value))\n            .attr(\"dx\", +4)\n            .attr(\"text-anchor\", \"start\")\n        );\n\n      text.exit().remove();\n\n  if (this.payload.length> 0) {\n  var xAxis = d3.axisBottom(scX).tickFormat(() => {return \"\";}).tickSize(0);\n  var yAxis = d3.axisLeft(scY).ticks(10,\"s\")\n\n  d3.select(\"g.yAxis\" + this.chartNumber).call(yAxis);\n\n  d3.select(\"g.xAxis\" + this.chartNumber)\n    .call(xAxis)\n  }\n  else {\n    d3.select(\"g.yAxis\" + this.chartNumber).selectAll('*').remove()\n    d3.select(\"g.xAxis\" + this.chartNumber).selectAll(('*')).remove()\n\n  }\n\n    },\n\n    changeFilter() {\n      const vm = this;\n      d3.select(\"g.bars\" + this.chartNumber)\n        .selectAll(\"rect\")\n        .style(\"fill\", function (d) {\n          if (isFiltered(d, vm)) {\n            return \"var(--v-tertiary-base)\";\n          }\n          return \"var(--v-primary-base)\";\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}