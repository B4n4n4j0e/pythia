{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/someone/projects/pythia/client/src/components/FilterTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/someone/projects/pythia/client/src/components/FilterTable.vue","mtime":1643572037520},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js","mtime":1643623769500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRmlsdGVyVGFibGUiLAogIGRhdGE6ICgpID0+ICh7CiAgICBwYXR0ZXJuTnVtYmVyOiAvXigtP1xkKyhcLlxkKyk/XHN7MCwxfSkqJC8sCiAgICBwYXR0ZXJuUHJvdG9jb2w6IC9eKCg/IShccykpLikqJC8sCgogICAgbnVtYmVyUnVsZXM6IFsKICAgICAgKHZhbHVlKSA9PiB7CiAgICAgICAgY29uc3QgcGF0dGVybiA9IC9eKC0/XGQrKFwuXGQrKT9cc3swLDF9KSokLzsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgcGF0dGVybi50ZXN0KHZhbHVlKSB8fCAiUGxlYXNlIHVzZSBvbmx5IG51bWJlcnMgKGUuZy4gMjAgLTIgMC4yKSIKICAgICAgICApOwogICAgICB9LAogICAgXSwKCiAgICBwcm90b2NvbFJ1bGVzOiBbCiAgICAgICh2YWx1ZSkgPT4gewogICAgICAgIGNvbnN0IHBhdHRlcm4gPSAvXigoPyEoXHMpKS4pKiQvOwogICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodmFsdWUpIHx8ICJPbmx5IG9uZSBwcm90b2NvbCBpcyBhbGxvd2VkIjsKICAgICAgfSwKICAgIF0sCgogICAgc2VsZWN0ZWRPcHRpb246ICJUZXh0IiwKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgZmlsdGVyVGV4dDogIiIsCiAgICBwb3J0UHJvdG9jb2xUZXh0OiAiIiwKICAgIGhlYWRlcnM6IFsKICAgICAgeyB0ZXh0OiAiQ2F0ZWdvcnkiLCB2YWx1ZTogInR5cGUiIH0sCiAgICAgIHsgdGV4dDogIkZpbHRlciIsIHZhbHVlOiAiZmlsdGVyIiB9LAogICAgICB7IHRleHQ6ICJBY3Rpb25zIiwgdmFsdWU6ICJhY3Rpb25zIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICBdLAogICAgb3B0aW9uczogWyJUZXh0IiwgIlBvcnQiLCAiQ29tcGFyaXNvbiJdLAogIAogICAgdGV4dE9wdGlvbnM6IFsKICAgICAgeyB0ZXh0OiAiT3JpZ2luIEhvc3QiLCBpc0FjdGl2ZTogZmFsc2UsIGZpbHRlck5hbWU6ICJzb3VyY2UiIH0sCiAgICAgIHsgdGV4dDogIlJlc3BvbmRlciBIb3N0IiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAidGFyZ2V0IiB9LAogICAgICB7IHRleHQ6ICJTZXJ2aWNlIiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAic2VydmljZSIgfSwKICAgICAgeyB0ZXh0OiAiUHJvdG9jb2wiLCBpc0FjdGl2ZTogZmFsc2UsIGZpbHRlck5hbWU6ICJwcm90byIgfSwKICAgICAgeyB0ZXh0OiAiUXVlcnkiLCBpc0FjdGl2ZTogZmFsc2UsIGZpbHRlck5hbWU6ICJxdWVyeV90ZXh0IiB9LAogICAgICB7IHRleHQ6ICJRdWVyeSBhbnN3ZXJzIiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAicV9hbnN3ZXJzIiB9LAogICAgICB7IHRleHQ6ICJRdWVyeSB0eXBlIiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAicV90eXBlIiB9LAogICAgICB7IHRleHQ6ICJFcnJvciBDb2RlIiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAicV9yY29kZSIgfSwKICAgICAgeyB0ZXh0OiAiVUlEIiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAidWlkIiB9LAogICAgICB7IHRleHQ6ICJOb3RpY2UgVUlEIiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAibm90aWNlX3VpZCIgfSwKICAgICAgeyB0ZXh0OiAiTm90aWNlIE9yaWdpbiBIb3N0IiwgaXNBY3RpdmU6IGZhbHNlLCBmaWx0ZXJOYW1lOiAibm90aWNlX3NvdXJjZSIgfSwKICAgICAgeyB0ZXh0OiAiTm90aWNlIFJlc3AgSG9zdCIsIGlzQWN0aXZlOiBmYWxzZSwgZmlsdGVyTmFtZTogIm5vdGljZV90YXJnZXQiIH0sCiAgICAgIHsgdGV4dDogIk5vdGljZSBIZWFkZXIiLCBpc0FjdGl2ZTogZmFsc2UsIGZpbHRlck5hbWU6ICJub3RpY2VfaGVhZGVyIiB9LAogICAgXSwKCiAgICBwb3J0T3B0aW9uczogWwogICAgICB7IHRleHQ6ICJSZXNwb25kZXIgUG9ydCIsIGlzQWN0aXZlOiBmYWxzZSwgZmlsdGVyTmFtZTogInJlc3BfcCIgfSwKICAgICAgeyB0ZXh0OiAiT3JpZ2luIFBvcnQiLCBpc0FjdGl2ZTogZmFsc2UsIGZpbHRlck5hbWU6ICJvcmlnaW5fcCIgfSwKICAgIF0sCiAgICBjb21wT3B0aW9uczogWwogICAgICB7CiAgICAgICAgdGV4dDogIlJlc3BvbmRlciBzZW50IGRhdGEgaW4ga2IiLAogICAgICAgIGlzQWN0aXZlOiBmYWxzZSwKICAgICAgICBmaWx0ZXJOYW1lOiAicmVzcF9pcF9ieXRlcyIsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0ZXh0OiAiT3JpZ2luIHNlbnQgZGF0YSBpbiBrYiIsCiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLAogICAgICAgIGZpbHRlck5hbWU6ICJvcmlnX2lwX2J5dGVzIiwKICAgICAgfSwKICAgICAgeyB0ZXh0OiAiRHVyYXRpb24iLCBpc0FjdGl2ZTogZmFsc2UsIGZpbHRlck5hbWU6ICJkdXJhdGlvbiIgfSwKICAgIF0sCiAgICBjb21wT3BlcmF0b3JzOiB7CiAgICAgIGFjdGl2ZU9wZXJhdG9yOiAtMSwKICAgICAgb3BlcmF0b3JzOiBbIj4iLCAiPCIsICI9PSJdLAogICAgfSwKICB9KSwKICBjb21wdXRlZDogewogICAgZmlsdGVycygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbImFsbEZpbHRlcnMiXTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgc2VsZWN0ZWRPcHRpb24oKSB7CiAgICAgIHRoaXMuY2xlYXJGaWx0ZXJEaWFsb2dPcHRpb25zKCk7CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGl0ZW1Sb3dCYWNrZ3JvdW5kOiBmdW5jdGlvbiAoaXRlbSkgewogICAgICByZXR1cm4gaXRlbS5pc05lZ2F0aXZlID8gInJlZC10ZXh0IiA6ICIiOwogICAgfSwKICAgIHJlbW92ZUZpbHRlcihpdGVtKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJyZW1vdmVGaWx0ZXJCeUZpbHRlck5hbWUiLCBpdGVtKTsKICAgIH0sCgogICAgcmVtb3ZlQWxsRmlsdGVycygpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJlbW92ZUFsbEZpbHRlcnMiKTsKICAgICAgdGhpcy5kaWFsb2dEZWxldGUgPSBmYWxzZTsKICAgIH0sCiAgICBzZW5kRmlsdGVyT3B0aW9uKG9wdGlvbikgewogICAgICBjb25zdCByZWdleCA9IC8oIi4qPyIpfChcUyspL2cKICAgICAgdmFyIGZpbHRlcnMgPSBbXQogICAgIAogICAgICBmb3IgKHZhciBtYXRjaCBvZiB0aGlzLmZpbHRlclRleHQubWF0Y2hBbGwocmVnZXgpKXsKICAgICAgICAgdmFyIGZpbHRlcgogICAgICAgICBpZiAobWF0Y2hbMV0pIHsKICAgICAgICAgICAgZmlsdGVyID0gbWF0Y2hbMV0ucmVwbGFjZSgvXiJccyp8XHMqIiQvZywiIikKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBmaWx0ZXIgPSBtYXRjaFsyXS5yZXBsYWNlKC9eXHMqfFxzKiQvZywiIikKICAgICAgICAgIH0KICAgICAgICAgIGZpbHRlcnMucHVzaChmaWx0ZXIpCiAgICAgIH0KICAgICAgZmlsdGVycy5mb3JFYWNoKChmaWx0ZXIpID0+IHsKICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA9PSAiVGV4dCIpIHsKICAgICAgICAgIHRoaXMudGV4dE9wdGlvbnMuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICAgICAgaWYgKHZhbHVlLmlzQWN0aXZlKSB7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2gob3B0aW9uLCB7CiAgICAgICAgICAgICAgICB0eXBlOiB2YWx1ZS5maWx0ZXJOYW1lLAogICAgICAgICAgICAgICAgZmlsdGVyOiBmaWx0ZXIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgIGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb24gPT0gIlBvcnQiKSB7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgICEoCiAgICAgICAgICAgICAgdGhpcy5wYXR0ZXJuTnVtYmVyLnRlc3QodGhpcy5maWx0ZXJUZXh0KSAmJgogICAgICAgICAgICAgIHRoaXMucGF0dGVyblByb3RvY29sLnRlc3QodGhpcy5wb3J0UHJvdG9jb2xUZXh0KQogICAgICAgICAgICApCiAgICAgICAgICApIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5wb3J0T3B0aW9ucy5mb3JFYWNoKCh2YWx1ZSkgPT4gewogICAgICAgICAgICBpZiAodmFsdWUuaXNBY3RpdmUpIHsKICAgICAgICAgICAgICB2YXIgbmV3RmlsdGVyID0gZmlsdGVyOwogICAgICAgICAgICAgIGlmICh0aGlzLnBvcnRQcm90b2NvbFRleHQgIT0gIiIpIHsKICAgICAgICAgICAgICAgIG5ld0ZpbHRlciA9ICgKICAgICAgICAgICAgICAgICAgZmlsdGVyICsKICAgICAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICAgICAgdGhpcy5wb3J0UHJvdG9jb2xUZXh0CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKG9wdGlvbiwgewogICAgICAgICAgICAgICAgdHlwZTogdmFsdWUuZmlsdGVyTmFtZSwKICAgICAgICAgICAgICAgIGZpbHRlcjogbmV3RmlsdGVyLAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKCF0aGlzLnBhdHRlcm5OdW1iZXIudGVzdChmaWx0ZXIpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGlmICh0aGlzLmNvbXBPcGVyYXRvcnMuYWN0aXZlT3BlcmF0b3IgPT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jb21wT3B0aW9ucy5mb3JFYWNoKCh2YWx1ZSkgPT4gewogICAgICAgICAgICBpZiAodmFsdWUuaXNBY3RpdmUpIHsKICAgICAgICAgICAgICB2YXIgbmV3RmlsdGVyID0KICAgICAgICAgICAgICAgIHRoaXMuY29tcE9wZXJhdG9ycy5vcGVyYXRvcnNbCiAgICAgICAgICAgICAgICAgIHRoaXMuY29tcE9wZXJhdG9ycy5hY3RpdmVPcGVyYXRvcgogICAgICAgICAgICAgICAgXVswXSArIGZpbHRlcjsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChvcHRpb24sIHsKICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlLmZpbHRlck5hbWUsCiAgICAgICAgICAgICAgICBmaWx0ZXI6IG5ld0ZpbHRlciwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHRoaXMuZmlsdGVyVGV4dCA9ICIiOwogICAgICAgIHRoaXMucG9ydFByb3RvY29sVGV4dCA9ICIiOwogICAgICB9KTsKICAgIH0sCgogICAgYWRkRmlsdGVyKCkgewogICAgICB0aGlzLnNlbmRGaWx0ZXJPcHRpb24oImFkZEZpbHRlciIpOwogICAgfSwKICAgIGFkZE5lZ2F0aXZlRmlsdGVyKCkgewogICAgICB0aGlzLnNlbmRGaWx0ZXJPcHRpb24oImFkZE5lZ2F0aXZlRmlsdGVyIik7CiAgICB9LAoKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gdGhpcy5vcHRpb25zWzBdOwogICAgICB0aGlzLnNldEFycmF5SW5hY3RpdmUodGhpcy50ZXh0T3B0aW9ucyk7CiAgICAgIHRoaXMuY2xlYXJGaWx0ZXJEaWFsb2dPcHRpb25zKCk7CiAgICB9LAogICAgc2V0T3BlcmF0b3IoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ICE9IHRoaXMuY29tcE9wZXJhdG9ycy5hY3RpdmVPcGVyYXRvcikgewogICAgICAgIHRoaXMuY29tcE9wZXJhdG9ycy5hY3RpdmVPcGVyYXRvciA9IGluZGV4OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY29tcE9wZXJhdG9ycy5hY3RpdmVPcGVyYXRvciA9IC0xOwogICAgICB9CiAgICB9LAoKICAgIGNsZWFyRmlsdGVyRGlhbG9nT3B0aW9ucygpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb24gPT0gIlRleHQiKSB7CiAgICAgICAgdGhpcy5zZXRBcnJheUluYWN0aXZlKHRoaXMucG9ydE9wdGlvbnMpOwogICAgICAgIHRoaXMuc2V0QXJyYXlJbmFjdGl2ZSh0aGlzLmNvbXBPcHRpb25zKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9uID09ICJQb3J0IikgewogICAgICAgIHRoaXMuc2V0QXJyYXlJbmFjdGl2ZSh0aGlzLnRleHRPcHRpb25zKTsKICAgICAgICB0aGlzLnNldEFycmF5SW5hY3RpdmUodGhpcy5jb21wT3B0aW9ucyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZXRBcnJheUluYWN0aXZlKHRoaXMudGV4dE9wdGlvbnMpOwogICAgICAgIHRoaXMuc2V0QXJyYXlJbmFjdGl2ZSh0aGlzLnBvcnRPcHRpb25zKTsKICAgICAgfQogICAgICB0aGlzLmZpbHRlclRleHQgPSAiIjsKICAgICAgdGhpcy5wb3J0UHJvdG9jb2xUZXh0ID0gIiI7CiAgICB9LAogICAgc2V0QXJyYXlJbmFjdGl2ZShhcnJheSkgewogICAgICBhcnJheS5mb3JFYWNoKChlbGVtZW50KSA9PiB7CiAgICAgICAgZWxlbWVudC5pc0FjdGl2ZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["FilterTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FilterTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-card flat >\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"filters\"\n      hide-default-footer\n      :item-class=\"itemRowBackground\"\n      :options=\"{itemsPerPage: -1}\"\n    >\n      <template v-slot:top>\n        <v-toolbar flat>\n          <v-toolbar-title>Filter</v-toolbar-title>\n          <v-divider class=\"mx-4\" inset vertical></v-divider>\n          <v-spacer></v-spacer>\n          <v-dialog v-model=\"dialog\" max-width=\"500px\">\n            <template v-slot:activator=\"{ on, attrs }\">\n              <v-btn\n                color=\"primary\"\n                small\n                class=\"mb-2\"\n                v-bind=\"attrs\"\n                v-on=\"on\"\n              >\n                New Filter\n              </v-btn>\n              <v-btn\n                color=\"primary\"\n                small\n                class=\"mb-2 mr-2\"\n                @click=\"dialogDelete = true\"\n              >\n                Clear Filter\n              </v-btn>\n            </template>\n            <v-card>\n              <v-card-title>\n                <span class=\"text-h5\">Add Filter </span>\n              </v-card-title>\n              <v-card-text>\n                <v-container>\n                  <v-row>\n                    <v-col class=\"d-flex\" cols=\"5\">\n                      <v-select\n                        v-model=\"selectedOption\"\n                        :items=\"options\"\n                        label=\"Select Option\"\n                      ></v-select>\n                    </v-col>\n                    <v-col class=\"d-flex\" cols=\"7\">\n                      <v-text-field\n                        v-model=\"filterText\"\n                        append-icon=\"mdi-filter\"\n                        label=\"Filter*\"\n                        :rules=\"\n                          selectedOption.startsWith('Text') ?  [] : numberRules\n                        \"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                  <v-row v-if=\"selectedOption == 'Text'\">\n                    <div\n                      v-for=\"(textOption,i) in textOptions\"\n                      v-bind:key=\"i\"\n                      class=\"d-flex pl-2 ml-2\"\n                    >\n                      <v-checkbox\n                        v-model=\"textOption.isActive\"\n                        :label=\"textOption.text\"\n                        class=\"d-flex\"\n                      >\n                      </v-checkbox>\n                    </div>\n                  </v-row>\n                  <v-row v-else-if=\"selectedOption == 'Port'\">\n                    <v-col cols=\"4\">\n                      <v-row\n                        no-gutters\n                        v-for=\"(portOption,i) in portOptions\"\n                        v-bind:key=\"i\"\n                        class=\"d-flex\"\n                      >\n                        <v-checkbox\n                          v-model=\"portOption.isActive\"\n                          :label=\"portOption.text\"\n                          class=\"d-flex\"\n                        >\n                        </v-checkbox>\n                      </v-row>\n                    </v-col>\n                    <v-col class=\"d-flex\" cols=\"8\">\n                      <v-text-field\n                        v-model=\"portProtocolText\"\n                        label=\"Protocol (optional)\"\n                        :rules=\"protocolRules\"\n                      ></v-text-field>\n                    </v-col>\n                  </v-row>\n                  <v-row v-else>\n                    <v-col cols=\"8\">\n                      <v-row\n                        no-gutters\n                        v-for=\"(compOption,i) in compOptions\"\n                        v-bind:key=\"i\"\n                        class=\"d-flex\"\n                      >\n                        <v-checkbox\n                          v-model=\"compOption.isActive\"\n                          :label=\"compOption.text\"\n                          class=\"d-flex\"\n                        >\n                        </v-checkbox>\n                      </v-row>\n                    </v-col>\n                    <v-col class=\"d-flex flex-column\" cols=\"4\">\n                      <v-row\n                        no-gutters\n                        v-for=\"(compOperator, index) in compOperators.operators\"\n                        v-bind:key=\"index\"\n                        class=\"d-flex justify-start align-center\"\n                      >\n                        <v-btn\n                          class=\"opButton\"\n                          @click=\"setOperator(index)\"\n                          text\n                          icon\n                          :color=\"\n                            compOperators.activeOperator == index\n                              ? 'success'\n                              : ''\n                          \"\n                          >{{ compOperator }}\n                        </v-btn>\n                      </v-row>\n                    </v-col>\n                  </v-row>\n                  <v-row class=\"flex align-end\" align-begin\n                    >*  Each space sets an additional filte. </v-row\n                  >\n                  <v-row class=\"flex align-end\" align-begin>* If you want to use spaces for a filter, use \" \".</v-row>\n                </v-container>\n              </v-card-text>\n              <v-card-actions>\n                <v-btn color=\"tertiary\" text @click=\"close\"> Leave </v-btn>\n                <v-spacer></v-spacer>\n                <v-btn color=\"tertiary\" text @click=\"addNegativeFilter\">\n                  Add negative filter\n                </v-btn>\n                <v-btn color=\"tertiary\" text @click=\"addFilter\">\n                  Add filter\n                </v-btn>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n          <v-dialog v-model=\"dialogDelete\" max-width=\"600px\">\n            <v-card>\n              <v-card-title class=\"text-h5\"\n                >Are you sure you want to delete all filters?</v-card-title\n              >\n              <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"tertiary\" text @click=\"dialogDelete = false\"\n                  >Cancel</v-btn\n                >\n                <v-btn color=\"tertiary\" text @click=\"removeAllFilters\"\n                  >OK</v-btn\n                >\n                <v-spacer></v-spacer>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-toolbar>\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-icon small @click=\"removeFilter(item)\"> mdi-delete </v-icon>\n      </template>\n    </v-data-table>\n  </v-card>\n</template>\n\n<script>\nexport default {\n  name: \"FilterTable\",\n  data: () => ({\n    patternNumber: /^(-?\\d+(\\.\\d+)?\\s{0,1})*$/,\n    patternProtocol: /^((?!(\\s)).)*$/,\n\n    numberRules: [\n      (value) => {\n        const pattern = /^(-?\\d+(\\.\\d+)?\\s{0,1})*$/;\n        return (\n          pattern.test(value) || \"Please use only numbers (e.g. 20 -2 0.2)\"\n        );\n      },\n    ],\n\n    protocolRules: [\n      (value) => {\n        const pattern = /^((?!(\\s)).)*$/;\n        return pattern.test(value) || \"Only one protocol is allowed\";\n      },\n    ],\n\n    selectedOption: \"Text\",\n    dialog: false,\n    dialogDelete: false,\n    filterText: \"\",\n    portProtocolText: \"\",\n    headers: [\n      { text: \"Category\", value: \"type\" },\n      { text: \"Filter\", value: \"filter\" },\n      { text: \"Actions\", value: \"actions\", sortable: false },\n    ],\n    options: [\"Text\", \"Port\", \"Comparison\"],\n  \n    textOptions: [\n      { text: \"Origin Host\", isActive: false, filterName: \"source\" },\n      { text: \"Responder Host\", isActive: false, filterName: \"target\" },\n      { text: \"Service\", isActive: false, filterName: \"service\" },\n      { text: \"Protocol\", isActive: false, filterName: \"proto\" },\n      { text: \"Query\", isActive: false, filterName: \"query_text\" },\n      { text: \"Query answers\", isActive: false, filterName: \"q_answers\" },\n      { text: \"Query type\", isActive: false, filterName: \"q_type\" },\n      { text: \"Error Code\", isActive: false, filterName: \"q_rcode\" },\n      { text: \"UID\", isActive: false, filterName: \"uid\" },\n      { text: \"Notice UID\", isActive: false, filterName: \"notice_uid\" },\n      { text: \"Notice Origin Host\", isActive: false, filterName: \"notice_source\" },\n      { text: \"Notice Resp Host\", isActive: false, filterName: \"notice_target\" },\n      { text: \"Notice Header\", isActive: false, filterName: \"notice_header\" },\n    ],\n\n    portOptions: [\n      { text: \"Responder Port\", isActive: false, filterName: \"resp_p\" },\n      { text: \"Origin Port\", isActive: false, filterName: \"origin_p\" },\n    ],\n    compOptions: [\n      {\n        text: \"Responder sent data in kb\",\n        isActive: false,\n        filterName: \"resp_ip_bytes\",\n      },\n      {\n        text: \"Origin sent data in kb\",\n        isActive: false,\n        filterName: \"orig_ip_bytes\",\n      },\n      { text: \"Duration\", isActive: false, filterName: \"duration\" },\n    ],\n    compOperators: {\n      activeOperator: -1,\n      operators: [\">\", \"<\", \"==\"],\n    },\n  }),\n  computed: {\n    filters() {\n      return this.$store.getters[\"allFilters\"];\n    },\n  },\n  watch: {\n    selectedOption() {\n      this.clearFilterDialogOptions();\n    },\n  },\n\n  methods: {\n    itemRowBackground: function (item) {\n      return item.isNegative ? \"red-text\" : \"\";\n    },\n    removeFilter(item) {\n      this.$store.dispatch(\"removeFilterByFilterName\", item);\n    },\n\n    removeAllFilters() {\n      this.$store.dispatch(\"removeAllFilters\");\n      this.dialogDelete = false;\n    },\n    sendFilterOption(option) {\n      const regex = /(\".*?\")|(\\S+)/g\n      var filters = []\n     \n      for (var match of this.filterText.matchAll(regex)){\n         var filter\n         if (match[1]) {\n            filter = match[1].replace(/^\"\\s*|\\s*\"$/g,\"\")\n          }\n          else {\n            filter = match[2].replace(/^\\s*|\\s*$/g,\"\")\n          }\n          filters.push(filter)\n      }\n      filters.forEach((filter) => {\n        if (this.selectedOption == \"Text\") {\n          this.textOptions.forEach((value) => {\n            if (value.isActive) {\n              this.$store.dispatch(option, {\n                type: value.filterName,\n                filter: filter,\n              });\n            }\n          });\n        }\n\n      else if (this.selectedOption == \"Port\") {\n          if (\n            !(\n              this.patternNumber.test(this.filterText) &&\n              this.patternProtocol.test(this.portProtocolText)\n            )\n          ) {\n            return;\n          }\n          this.portOptions.forEach((value) => {\n            if (value.isActive) {\n              var newFilter = filter;\n              if (this.portProtocolText != \"\") {\n                newFilter = (\n                  filter +\n                  \"/\" +\n                  this.portProtocolText\n                )\n              }\n              this.$store.dispatch(option, {\n                type: value.filterName,\n                filter: newFilter,\n              });\n            }\n          });\n        } else {\n          if (!this.patternNumber.test(filter)) {\n            return;\n          }\n          if (this.compOperators.activeOperator == -1) {\n            return;\n          }\n          this.compOptions.forEach((value) => {\n            if (value.isActive) {\n              var newFilter =\n                this.compOperators.operators[\n                  this.compOperators.activeOperator\n                ][0] + filter;\n              this.$store.dispatch(option, {\n                type: value.filterName,\n                filter: newFilter,\n              });\n            }\n          });\n        }\n        this.filterText = \"\";\n        this.portProtocolText = \"\";\n      });\n    },\n\n    addFilter() {\n      this.sendFilterOption(\"addFilter\");\n    },\n    addNegativeFilter() {\n      this.sendFilterOption(\"addNegativeFilter\");\n    },\n\n    close() {\n      this.dialog = false;\n      this.selectedOption = this.options[0];\n      this.setArrayInactive(this.textOptions);\n      this.clearFilterDialogOptions();\n    },\n    setOperator(index) {\n      if (index != this.compOperators.activeOperator) {\n        this.compOperators.activeOperator = index;\n      } else {\n        this.compOperators.activeOperator = -1;\n      }\n    },\n\n    clearFilterDialogOptions() {\n      if (this.selectedOption == \"Text\") {\n        this.setArrayInactive(this.portOptions);\n        this.setArrayInactive(this.compOptions);\n      } else if (this.selectedOption == \"Port\") {\n        this.setArrayInactive(this.textOptions);\n        this.setArrayInactive(this.compOptions);\n      } else {\n        this.setArrayInactive(this.textOptions);\n        this.setArrayInactive(this.portOptions);\n      }\n      this.filterText = \"\";\n      this.portProtocolText = \"\";\n    },\n    setArrayInactive(array) {\n      array.forEach((element) => {\n        element.isActive = false;\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.v-btn.opButton {\n  font-size: 1.5em;\n}\n>>> .red-text {\n  color: red;\n}\n>>>.v-data-table__wrapper {\n  overflow-y: auto;\n  overflow-x: auto;\n  max-height: 500px;\n}\n</style>\n"]}]}