{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/someone/projects/pythia/client/src/components/TimePicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/someone/projects/pythia/client/src/components/TimePicker.vue","mtime":1642623337186},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js","mtime":1643623769500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgYnV0dG9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgIH0sCiAgICBidXR0b25Db2xvcjogewogICAgICBkZWZhdWx0OiAicHJpbWFyeSIsCiAgICB9LAogICAgYnV0dG9uVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICB9LAogIH0sCgogIG5hbWU6ICJUaW1lUGlja2VyIiwKICBtb3VudGVkKCkgewogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnVwZGF0ZUxvY2FsU3RhcnRUaW1lKCk7CiAgICAgIHRoaXMudXBkYXRlTG9jYWxFbmRUaW1lKCk7CiAgICB9KTsKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBzdGFydERhdGVNZW51OiBmYWxzZSwKICAgIHN0YXJ0VGltZU1lbnU6IGZhbHNlLAogICAgZW5kRGF0ZU1lbnU6IGZhbHNlLAogICAgZW5kVGltZU1lbnU6IGZhbHNlLAoKICAgIGxvY2FsU3RhcnRUaW1lOiBudWxsLAogICAgbG9jYWxFbmRUaW1lOiBudWxsLAogICAgbG9jYWxTdGFydERhdGU6IG51bGwsCiAgICBsb2NhbEVuZERhdGU6IG51bGwsCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIHN0YXJ0VGltZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnN0YXJ0VGltZTsKICAgIH0sCgogICAgZW5kVGltZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnN0YXJ0VGltZTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgc3RhcnRUaW1lKCkgewogICAgICB0aGlzLnVwZGF0ZUxvY2FsU3RhcnRUaW1lKCkKICAgIH0sCgogICAgZW5kVGltZSgpIHsKICAgICAgdGhpcy51cGRhdGVMb2NhbEVuZFRpbWUoKQogICAgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICAvKgogICAgICBzZXRzIHN0YXJ0IGFuZCBlbmQgdGltZSBpbiBzdG9yZSBhbmQgcmVxdWVzdHMgbmV3IGRhdGEgZnJvbSBzdG9yZQogICAgICAqLwogICAgdXBkYXRlTG9jYWxTdGFydFRpbWUoKSB7CiAgICAgIHRoaXMubG9jYWxTdGFydFRpbWUgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnN0YXJ0VGltZTsKICAgICAgdGhpcy5sb2NhbFN0YXJ0RGF0ZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuc3RhcnREYXRlOwoKICAgIH0sCiAgICB1cGRhdGVMb2NhbEVuZFRpbWUoKSB7CiAgICAgIHRoaXMubG9jYWxFbmREYXRlID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5lbmREYXRlOwogICAgICB0aGlzLmxvY2FsRW5kVGltZSA9IHRoaXMuJHN0b3JlLmdldHRlcnMuZW5kVGltZTsKICAgIH0sCiAgICBzdWJtaXRUaW1lKGZ1bmNOYW1lKSB7CiAgICAgIHZhciBzdGFydFRpbWVTdGFtcCA9IHRoaXMuZ2V0U3RhcnRUaW1lU3RhbXAoKTsKICAgICAgdmFyIGVuZFRpbWVTdGFtcCA9IHRoaXMuZ2V0RW5kVGltZVN0YW1wKCk7CiAgICAgIHRoaXMuJGVtaXQoZnVuY05hbWUsIHN0YXJ0VGltZVN0YW1wLCBlbmRUaW1lU3RhbXApOwogICAgfSwKICAgIHN1Ym1pdChmdW5jTmFtZSkgewogICAgICB0aGlzLiRlbWl0KGZ1bmNOYW1lKTsKICAgIH0sCgogICAgZ2V0U3RhcnRUaW1lU3RhbXAoKSB7CiAgICAgIHZhciB0aW1lID0gdGhpcy5sb2NhbFN0YXJ0VGltZS5zcGxpdCgiOiIpOwogICAgICB2YXIgZGF0ZSA9IHRoaXMubG9jYWxTdGFydERhdGUuc3BsaXQoIi0iKS5tYXAoKHgpID0+IHBhcnNlSW50KHgpKTsKICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gbmV3IERhdGUoCiAgICAgICAgZGF0ZVswXSwKICAgICAgICBkYXRlWzFdIC0gMSwKICAgICAgICBkYXRlWzJdLAogICAgICAgIHRpbWVbMF0sCiAgICAgICAgdGltZVsxXSwKICAgICAgICAwCiAgICAgICkuZ2V0VGltZSgpOwogICAgICByZXR1cm4gc3RhcnRUaW1lc3RhbXA7CiAgICB9LAoKICAgIGdldEVuZFRpbWVTdGFtcCgpIHsKICAgICAgdmFyIHRpbWUgPSB0aGlzLmxvY2FsRW5kVGltZS5zcGxpdCgiOiIpOwogICAgICB2YXIgZGF0ZSA9IHRoaXMubG9jYWxFbmREYXRlLnNwbGl0KCItIikubWFwKCh4KSA9PiBwYXJzZUludCh4KSk7CiAgICAgIHZhciBlbmRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgKICAgICAgICBkYXRlWzBdLAogICAgICAgIGRhdGVbMV0gLSAxLAogICAgICAgIGRhdGVbMl0sCiAgICAgICAgdGltZVswXSwKICAgICAgICB0aW1lWzFdLAogICAgICAgIDAKICAgICAgKS5nZXRUaW1lKCk7CiAgICAgIHJldHVybiBlbmRUaW1lc3RhbXA7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["TimePicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TimePicker.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container fluid>\n    <v-row>\n      <v-menu\n        v-model=\"startDateMenu\"\n        :close-on-content-click=\"false\"\n        :nudge-right=\"40\"\n        transition=\"scale-transition\"\n        offset-y\n        min-width=\"auto\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-text-field\n            class=\"dateField\"\n            v-model=\"localStartDate\"\n            label=\"Start date\"\n            prepend-icon=\"mdi-calendar\"\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-date-picker\n          v-model=\"localStartDate\"\n          @input=\"startDateMenu = false\"\n        ></v-date-picker>\n      </v-menu>\n      <v-menu\n        ref=\"startTimeRef\"\n        v-model=\"startTimeMenu\"\n        :return-value.sync=\"localStartTime\"\n        :close-on-content-click=\"false\"\n        :nudge-right=\"40\"\n        transition=\"scale-transition\"\n        offset-y\n        max-width=\"290px\"\n        min-width=\"290px\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-text-field\n            v-bind=\"attrs\"\n            class=\"dateField\"\n            v-model=\"localStartTime\"\n            label=\"Start time\"\n            prepend-icon=\"mdi-clock-time-four-outline\"\n            readonly\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-time-picker\n          v-if=\"startTimeMenu\"\n          v-model=\"localStartTime\"\n          full-width\n          @click:minute=\"$refs.startTimeRef.save(localStartTime)\"\n        ></v-time-picker>\n      </v-menu>\n\n      <v-menu\n        v-model=\"endDateMenu\"\n        :close-on-content-click=\"false\"\n        :nudge-left=\"40\"\n        transition=\"scale-transition\"\n        offset-y\n        min-width=\"auto\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-text-field\n            class=\"dateField\"\n            v-model=\"localEndDate\"\n            label=\"End Date\"\n            prepend-icon=\"mdi-calendar\"\n            readonly\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-date-picker\n          v-model=\"localEndDate\"\n          @input=\"endDateMenu = false\"\n        ></v-date-picker>\n      </v-menu>\n\n      <v-menu\n        ref=\"endTimeRef\"\n        v-model=\"endTimeMenu\"\n        :close-on-content-click=\"false\"\n        :nudge-left=\"40\"\n        :return-value.sync=\"endTime\"\n        transition=\"scale-transition\"\n        offset-y\n        max-width=\"290px\"\n        min-width=\"290px\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-text-field\n            class=\"dateField\"\n            v-model=\"localEndTime\"\n            label=\"End Time\"\n            prepend-icon=\"mdi-clock-time-four-outline\"\n            readonly\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          ></v-text-field>\n        </template>\n        <v-time-picker\n          v-model=\"localEndTime\"\n          v-if=\"endTimeMenu\"\n          full-width\n          @click:minute=\"$refs.endTimeRef.save(localEndTime)\"\n        ></v-time-picker>\n      </v-menu>\n    </v-row>\n    <v-row no-gutters>\n      <v-btn\n        class=\"ml-2 mt-4\"\n        v-for=\"button in buttons\"\n        :key=\"button.text\"\n        :color=\"button.color\"\n        @click=\"submitTime(button.funcName)\"\n        >{{ button.text }}</v-btn\n      >\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nexport default {\n  props: {\n    buttons: {\n      type: Array,\n    },\n    buttonColor: {\n      default: \"primary\",\n    },\n    buttonText: {\n      type: String,\n    },\n  },\n\n  name: \"TimePicker\",\n  mounted() {\n    this.$nextTick(function () {\n      this.updateLocalStartTime();\n      this.updateLocalEndTime();\n    });\n  },\n  data: () => ({\n    startDateMenu: false,\n    startTimeMenu: false,\n    endDateMenu: false,\n    endTimeMenu: false,\n\n    localStartTime: null,\n    localEndTime: null,\n    localStartDate: null,\n    localEndDate: null,\n  }),\n  computed: {\n    startTime() {\n      return this.$store.state.startTime;\n    },\n\n    endTime() {\n      return this.$store.state.startTime;\n    },\n  },\n  watch: {\n    startTime() {\n      this.updateLocalStartTime()\n    },\n\n    endTime() {\n      this.updateLocalEndTime()\n    },\n  },\n\n  methods: {\n    /*\n      sets start and end time in store and requests new data from store\n      */\n    updateLocalStartTime() {\n      this.localStartTime = this.$store.getters.startTime;\n      this.localStartDate = this.$store.getters.startDate;\n\n    },\n    updateLocalEndTime() {\n      this.localEndDate = this.$store.getters.endDate;\n      this.localEndTime = this.$store.getters.endTime;\n    },\n    submitTime(funcName) {\n      var startTimeStamp = this.getStartTimeStamp();\n      var endTimeStamp = this.getEndTimeStamp();\n      this.$emit(funcName, startTimeStamp, endTimeStamp);\n    },\n    submit(funcName) {\n      this.$emit(funcName);\n    },\n\n    getStartTimeStamp() {\n      var time = this.localStartTime.split(\":\");\n      var date = this.localStartDate.split(\"-\").map((x) => parseInt(x));\n      var startTimestamp = new Date(\n        date[0],\n        date[1] - 1,\n        date[2],\n        time[0],\n        time[1],\n        0\n      ).getTime();\n      return startTimestamp;\n    },\n\n    getEndTimeStamp() {\n      var time = this.localEndTime.split(\":\");\n      var date = this.localEndDate.split(\"-\").map((x) => parseInt(x));\n      var endTimestamp = new Date(\n        date[0],\n        date[1] - 1,\n        date[2],\n        time[0],\n        time[1],\n        0\n      ).getTime();\n      return endTimestamp;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.dateField {\n  max-width: 125px;\n  overflow: hidden;\n}\n</style>"]}]}