{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/someone/projects/pythia/client/src/components/TopNavigation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/someone/projects/pythia/client/src/components/TopNavigation.vue","mtime":1643569775827},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js","mtime":1643623769500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgZGFzaGJvYXJkRGlhbG9nOiBmYWxzZSwKICAgIG1vZGVEaWFsb2c6IGZhbHNlLAogICAgaXNTZWxlY3Rpbmc6IGZhbHNlLAogICAgc2VsZWN0ZWRGaWxlOiBudWxsLAogICAgZGFzaGJvYXJkTmFtZTogIiIsCiAgICBtb2RlczogWyJTZW5zb3IiLCAiUENBUCJdLAogIH0pLAoKICBjb21wdXRlZDogewogICAgZGFzaGJvYXJkcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRhc2hib2FyZHM7CiAgICB9LAogICAgY3VycmVudERhc2hib2FyZCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnREYXNoYm9hcmQ7CiAgICB9LAogICAgY3VycmVudE1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tb2RlOwogICAgfSwKICAgIHBDQVBMb2FkaW5nKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucENBUExvYWRpbmc7CiAgICB9LAogICAgdXBkYXRlSW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbIm51bWJlck9mQ2hhbmdlcyJdID4gMDsKICAgIH0sCiAgfSwKCiAgbWV0aG9kczogewogICAgdXBkYXRlKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0QWxsRGF0YSIpOwogICAgfSwKCiAgICBhZGREYXNoYm9hcmQoKSB7CiAgICAgIGlmICh0aGlzLmRhc2hib2FyZE5hbWUgPT0gIiIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGRhc2hib2FyZER1cGxpY2F0ZXMgPSB0aGlzLmRhc2hib2FyZHMuZmlsdGVyKAogICAgICAgIChlbGVtKSA9PiBlbGVtLm5hbWUgPT0gdGhpcy5kYXNoYm9hcmROYW1lCiAgICAgICk7CiAgICAgIGlmIChkYXNoYm9hcmREdXBsaWNhdGVzLmxlbmd0aCA+IDApIHsKICAgIGxldCBzbmFja0Jhck9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgbWVzc2FnZTogIk5hbWUgYWxyZWFkeSBleGlzdHMsIHBsZWFzZSBjaG9vc2UgYW5vdGhlciBuYW1lIiwKICAgICAgICAgICAgICBjb2xvcjogImVycm9yIiwKICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwLAogICAgICAgICAgICB9OwogICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidHJpZ2dlclNuYWNrYmFyIiwgc25hY2tCYXJPcHRpb25zKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWRkRGFzaGJvYXJkIiwgdGhpcy5kYXNoYm9hcmROYW1lKTsKICAgICAgICB0aGlzLmRhc2hib2FyZE5hbWUgPSAiIjsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZURhc2hib2FyZChuYW1lKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJyZW1vdmVEYXNoYm9hcmQiLCBuYW1lKTsKICAgIH0sCiAgICBzd2l0Y2hEYXNoYm9hcmQobmFtZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic3dpdGNoRGFzaGJvYXJkIiwgbmFtZSkuZmluYWxseSgoKSA9PiB7CiAgICAgICAgdGhpcy5kYXNoYm9hcmREaWFsb2cgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIHN3aXRjaE1vZGUobmFtZSkgewogICAgICB0aGlzLiRzdG9yZQogICAgICAgIC5kaXNwYXRjaCgic3dpdGNoTW9kZSIsIG5hbWUpCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gKHRoaXMubW9kZURpYWxvZyA9IGZhbHNlKSk7CiAgICB9LAoKICAgIHNldERhcmttb2RlKCkgewogICAgICB0aGlzLiR2dWV0aWZ5LnRoZW1lLmRhcmsgPSAhdGhpcy4kdnVldGlmeS50aGVtZS5kYXJrOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZGFya190aGVtZSIsIHRoaXMuJHZ1ZXRpZnkudGhlbWUuZGFyay50b1N0cmluZygpKTsKICAgIH0sCiAgICB1cGxvYWRQQ0FQKCkgewogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUubW9kZSA9PSAiUENBUCIpIHsKICAgICAgICBsZXQgc25hY2tCYXJPcHRpb25zID0gewogICAgICAgICAgbWVzc2FnZTogIlBsZWFzZSBzd2l0Y2ggdG8gc2Vuc29yIG1vZGUgdG8gdXBsb2FkIGEgcGNhcC1maWxlIiwKICAgICAgICAgIGNvbG9yOiAiZXJyb3IiLAogICAgICAgICAgdGltZW91dDogMjAwMCwKICAgICAgICB9OwogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ0cmlnZ2VyU25hY2tiYXIiLCBzbmFja0Jhck9wdGlvbnMpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmlzU2VsZWN0aW5nID0gdHJ1ZTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICAgImZvY3VzIiwKICAgICAgICAoKSA9PiB7CiAgICAgICAgICB0aGlzLmlzU2VsZWN0aW5nID0gZmFsc2U7CiAgICAgICAgfSwKICAgICAgICB7IG9uY2U6IHRydWUgfQogICAgICApOwogICAgICB0aGlzLiRyZWZzLnVwbG9hZElucHV0LmNsaWNrKCk7CiAgICB9LAoKICAgIG9uRmlsZUlucHV0KGUpIHsKICAgICAgdGhpcy5zZWxlY3RlZEZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiZmlsZSIsIHRoaXMuc2VsZWN0ZWRGaWxlKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVwbG9hZFBDQVAiLCBmb3JtRGF0YSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["TopNavigation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TopNavigation.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app-bar clipped-right app>\n    <router-link to=\"/\">\n      <v-img\n        position=\"left\"\n        max-height=\"80px\"\n        max-width=\"90px\"\n        contain\n        src=\"../assets/logo_light2.png\"\n      >\n      </v-img>\n    </router-link>\n    <v-btn to=\"/configuration\" text>Configuration</v-btn>\n    <v-btn\n      :loading=\"pCAPLoading\"\n      :disabled=\"pCAPLoading\"\n      @click=\"uploadPCAP\"\n      text\n      >import PCAP</v-btn\n    >\n    <input\n      ref=\"uploadInput\"\n      class=\"d-none\"\n      :loading=\"isSelecting\"\n      type=\"file\"\n      @change=\"onFileInput\"\n    />\n    <v-menu top :close-on-content-click=\"false\" v-model=\"dashboardDialog\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn text v-bind=\"attrs\" v-on=\"on\">Dashboard options </v-btn>\n      </template>\n      <v-list nav flat>\n        <v-list-item tile v-for=\"(item, index) in dashboards\" :key=\"index\">\n          <v-btn\n            :class=\"\n              currentDashboard == item.name\n                ? 'textButtonActive'\n                : 'textButtonInactive'\n            \"\n            @click=\"switchDashboard(item.name)\"\n            text\n            >{{ item.name }}</v-btn\n          >\n          <v-spacer></v-spacer>\n          <v-btn @click=\"removeDashboard(item.name)\" text color=\"error\"\n            >X</v-btn\n          >\n        </v-list-item>\n        <v-list-item>\n          <v-text-field\n            class=\"mr-2\"\n            v-model=\"dashboardName\"\n            label=\"Add new dashboard\"\n          ></v-text-field>\n          <v-btn @click=\"addDashboard\" class=\"ml-3\" color=\"success\">+</v-btn>\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-menu top :close-on-content-click=\"false\" v-model=\"modeDialog\">\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn text v-bind=\"attrs\" v-on=\"on\">Mode</v-btn>\n      </template>\n      <v-list nav flat>\n        <v-list-item tile v-for=\"(item, index) in modes\" :key=\"index\">\n          <v-btn\n            :class=\"\n              currentMode == item ? 'textButtonActive' : 'textButtonInactive'\n            \"\n            @click=\"switchMode(item)\"\n            text\n            >{{ item }}</v-btn\n          >\n        </v-list-item>\n      </v-list>\n    </v-menu>\n    <v-spacer></v-spacer>\n    <div v-if=\"updateInfo\">\n      <v-tooltip bottom>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-icon v-bind=\"attrs\" v-on=\"on\" class=\"mr-2\" large\n            >mdi-information-outline</v-icon\n          >\n        </template>\n        <span>Click Update to apply new filter</span>\n      </v-tooltip>\n\n      <v-btn class=\"ml-2\" @click=\"update\" color=\"primary\">Update</v-btn>\n    </div>\n\n    <v-spacer></v-spacer>\n\n    <v-tooltip bottom>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn icon @click=\"setDarkmode\" v-bind=\"attrs\" v-on=\"on\">\n          <v-icon large>mdi-theme-light-dark</v-icon>\n        </v-btn>\n      </template>\n      <span>Dark Mode</span>\n    </v-tooltip>\n  </v-app-bar>\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    dashboardDialog: false,\n    modeDialog: false,\n    isSelecting: false,\n    selectedFile: null,\n    dashboardName: \"\",\n    modes: [\"Sensor\", \"PCAP\"],\n  }),\n\n  computed: {\n    dashboards() {\n      return this.$store.state.dashboards;\n    },\n    currentDashboard() {\n      return this.$store.state.currentDashboard;\n    },\n    currentMode() {\n      return this.$store.state.mode;\n    },\n    pCAPLoading() {\n      return this.$store.state.pCAPLoading;\n    },\n    updateInfo() {\n      return this.$store.getters[\"numberOfChanges\"] > 0;\n    },\n  },\n\n  methods: {\n    update() {\n      this.$store.dispatch(\"getAllData\");\n    },\n\n    addDashboard() {\n      if (this.dashboardName == \"\") {\n        return;\n      }\n      var dashboardDuplicates = this.dashboards.filter(\n        (elem) => elem.name == this.dashboardName\n      );\n      if (dashboardDuplicates.length > 0) {\n    let snackBarOptions = {\n              message: \"Name already exists, please choose another name\",\n              color: \"error\",\n              timeout: 2000,\n            };\n            this.$store.dispatch(\"triggerSnackbar\", snackBarOptions);\n      } else {\n        this.$store.dispatch(\"addDashboard\", this.dashboardName);\n        this.dashboardName = \"\";\n      }\n    },\n    removeDashboard(name) {\n      this.$store.dispatch(\"removeDashboard\", name);\n    },\n    switchDashboard(name) {\n      this.$store.dispatch(\"switchDashboard\", name).finally(() => {\n        this.dashboardDialog = false;\n      });\n    },\n\n    switchMode(name) {\n      this.$store\n        .dispatch(\"switchMode\", name)\n        .finally(() => (this.modeDialog = false));\n    },\n\n    setDarkmode() {\n      this.$vuetify.theme.dark = !this.$vuetify.theme.dark;\n      localStorage.setItem(\"dark_theme\", this.$vuetify.theme.dark.toString());\n    },\n    uploadPCAP() {\n      if (this.$store.state.mode == \"PCAP\") {\n        let snackBarOptions = {\n          message: \"Please switch to sensor mode to upload a pcap-file\",\n          color: \"error\",\n          timeout: 2000,\n        };\n        this.$store.dispatch(\"triggerSnackbar\", snackBarOptions);\n        return;\n      }\n      this.isSelecting = true;\n      window.addEventListener(\n        \"focus\",\n        () => {\n          this.isSelecting = false;\n        },\n        { once: true }\n      );\n      this.$refs.uploadInput.click();\n    },\n\n    onFileInput(e) {\n      this.selectedFile = e.target.files[0];\n      var formData = new FormData();\n      formData.append(\"file\", this.selectedFile);\n      this.$store.dispatch(\"uploadPCAP\", formData);\n    },\n  },\n};\n</script>\n<style scoped>\n>>> .v-text-field {\n  width: 110px;\n}\n.textButtonActive {\n  text-transform: none;\n}\n.textButtonInactive {\n  text-transform: none;\n  opacity: 0.5;\n}\n</style>"]}]}