{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/someone/projects/pythia/client/src/components/DataSummaryTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/someone/projects/pythia/client/src/components/DataSummaryTable.vue","mtime":1642258019398},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/vue-loader/lib/index.js","mtime":1643623769500}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEZXRhaWxEYXRhU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy9EZXRhaWxEYXRhU2VydmljZSI7CmltcG9ydCBTdW1tYXJ5RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvU3VtbWFyeURhdGFTZXJ2aWNlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGF0YVN1bW1hcnlUYWJsZSIsCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5nZXREZXRhaWxEYXRhSW5mb3JtYXRpb24oKTsKICAgICAgdGhpcy5nZXRTdW1tYXJ5RGF0YUluZm9ybWF0aW9uKCk7CiAgICB9KTsKICB9LAogIGRhdGE6ICgpID0+ICh7CiAgICBzZWxlY3RlZDogIkRldGFpbCAmIFN1bW1hcnkiLAoKICAgIGRldGFpbEZpcnN0RGF0ZTogNSwKICAgIGRldGFpbExhc3REYXRlOiAyLAogICAgZGV0YWlsQ29ubmVjdGlvbkNvdW50OiAyLAogICAgZGV0YWlsU2l6ZTogNDAwLAoKICAgIHN1bW1hcnlGaXJzdERhdGU6IDMsCiAgICBzdW1tYXJ5TGFzdERhdGU6IDEyLAogICAgc3VtbWFyeUNvbm5lY3Rpb25Db3VudDogMTUsCiAgICBzdW1tYXJ5U2l6ZTogMzIwLAoKICAgIGl0ZW1zOiBbIkRldGFpbCAmIFN1bW1hcnkiLCAiRGV0YWlsIiwgIlN1bW1hcnkiXSwKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIGFjdGl2ZUZpcnN0RGF0ZSgpIHsKICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkKSB7CiAgICAgICAgY2FzZSAiRGV0YWlsIjoKICAgICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcFRvRGF0ZSh0aGlzLmRldGFpbEZpcnN0RGF0ZSk7CiAgICAgICAgY2FzZSAiU3VtbWFyeSI6CiAgICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXBUb0RhdGUodGhpcy5zdW1tYXJ5Rmlyc3REYXRlKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgaWYgKHRoaXMuZGV0YWlsRmlyc3REYXRlID4gdGhpcy5zdW1tYXJ5Rmlyc3REYXRlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcFRvRGF0ZSh0aGlzLnN1bW1hcnlGaXJzdERhdGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wVG9EYXRlKHRoaXMuZGV0YWlsRmlyc3REYXRlKTsKICAgICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGFjdGl2ZUxhc3REYXRlKCkgewogICAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0ZWQpIHsKICAgICAgICBjYXNlICJEZXRhaWwiOgogICAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wVG9EYXRlKHRoaXMuZGV0YWlsTGFzdERhdGUpOwogICAgICAgIGNhc2UgIlN1bW1hcnkiOgogICAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wVG9EYXRlKHRoaXMuc3VtbWFyeUxhc3REYXRlKTsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgaWYgKHRoaXMuZGV0YWlsTGFzdERhdGUgPiB0aGlzLnN1bW1hcnlMYXN0RGF0ZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXBUb0RhdGUodGhpcy5kZXRhaWxMYXN0RGF0ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXBUb0RhdGUodGhpcy5zdW1tYXJ5TGFzdERhdGUpOwogICAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWN0aXZlQ29ubmVjdGlvbkNvdW50KCkgewogICAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0ZWQpIHsKICAgICAgICBjYXNlICJEZXRhaWwiOgogICAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWlsQ29ubmVjdGlvbkNvdW50OwogICAgICAgIGNhc2UgIlN1bW1hcnkiOgogICAgICAgICAgcmV0dXJuIHRoaXMuc3VtbWFyeUNvbm5lY3Rpb25Db3VudDsKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgcmV0dXJuIHRoaXMuZGV0YWlsQ29ubmVjdGlvbkNvdW50ICsgdGhpcy5zdW1tYXJ5Q29ubmVjdGlvbkNvdW50OwogICAgICB9CiAgICB9LAogICAgYWN0aXZlU2l6ZSgpIHsKICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkKSB7CiAgICAgICAgY2FzZSAiRGV0YWlsIjoKICAgICAgICAgIHJldHVybiB0aGlzLmRldGFpbFNpemUudG9TdHJpbmcoKSArICIgTUIiOwogICAgICAgIGNhc2UgIlN1bW1hcnkiOgogICAgICAgICAgcmV0dXJuIHRoaXMuc3VtbWFyeVNpemUudG9TdHJpbmcoKSArICIgTUIiOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gKE1hdGgucm91bmQodGhpcy5kZXRhaWxTaXplKjEwMCArIHRoaXMuc3VtbWFyeVNpemUqMTAwKS8xMDApLnRvU3RyaW5nKCkgKyAiIE1CIjsKICAgICAgfQogCiAgICB9LAogICAgbW9kZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubW9kZQogICAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgIG1vZGUoKSB7CiAgICAgIHRoaXMuZ2V0RGV0YWlsRGF0YUluZm9ybWF0aW9uKCk7CiAgICAgIHRoaXMuZ2V0U3VtbWFyeURhdGFJbmZvcm1hdGlvbigpOwogICAgfSwKCiAgICBzZWxlY3RlZCgpIHsKICAgICAgc3dpdGNoICh0aGlzLnNlbGVjdGVkKSB7CiAgICAgICAgY2FzZSAiRGV0YWlsIjoKICAgICAgICAgIHRoaXMuZ2V0RGV0YWlsRGF0YUluZm9ybWF0aW9uKCk7CiAgICAgICAgICByZXR1cm4KICAgICAgICBjYXNlICJTdW1tYXJ5IjoKICAgICAgICAgIHRoaXMuZ2V0U3VtbWFyeURhdGFJbmZvcm1hdGlvbigpOwogICAgICAgICAgcmV0dXJuCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHRoaXMuZ2V0RGV0YWlsRGF0YUluZm9ybWF0aW9uKCk7CiAgICAgICAgICB0aGlzLmdldFN1bW1hcnlEYXRhSW5mb3JtYXRpb24oKTsKICAgICAgICAgIHJldHVybgogICAgICB9CiAgICB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldERldGFpbERhdGFJbmZvcm1hdGlvbigpIHsKICAgICAgRGV0YWlsRGF0YVNlcnZpY2UuZ2V0KCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLmRldGFpbEZpcnN0RGF0ZSA9IHJlc3BvbnNlLmRhdGFbImZpcnN0X2RhdGUiXTsKICAgICAgICB0aGlzLmRldGFpbExhc3REYXRlID0gcmVzcG9uc2UuZGF0YVsibGFzdF9kYXRlIl07CiAgICAgICAgdGhpcy5kZXRhaWxDb25uZWN0aW9uQ291bnQgPSByZXNwb25zZS5kYXRhWyJjb25uZWN0aW9uX2NvdW50Il07CiAgICAgICAgdGhpcy5kZXRhaWxTaXplID0gcmVzcG9uc2UuZGF0YVsic2l6ZSJdOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRTdW1tYXJ5RGF0YUluZm9ybWF0aW9uKCkgewogICAgICBTdW1tYXJ5RGF0YVNlcnZpY2UuZ2V0KCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnN1bW1hcnlGaXJzdERhdGUgPSByZXNwb25zZS5kYXRhWyJmaXJzdF9kYXRlIl07CiAgICAgICAgdGhpcy5zdW1tYXJ5TGFzdERhdGUgPSByZXNwb25zZS5kYXRhWyJsYXN0X2RhdGUiXTsKICAgICAgICB0aGlzLnN1bW1hcnlDb25uZWN0aW9uQ291bnQgPSByZXNwb25zZS5kYXRhWyJjb25uZWN0aW9uX2NvdW50Il07CiAgICAgICAgdGhpcy5zdW1tYXJ5U2l6ZSA9IHJlc3BvbnNlLmRhdGFbInNpemUiXTsKICAgICAgfSk7CiAgICB9LAoKICAgIHRpbWVzdGFtcFRvRGF0ZSh0aW1lc3RhbXApIHsKICAgICAgaWYgKHRpbWVzdGFtcCA+IDApIHsKICAgICAgICByZXR1cm4gbmV3IERhdGUodGltZXN0YW1wICogMTAwMCkudG9Mb2NhbGVTdHJpbmcoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIk5vbmUiOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["DataSummaryTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DataSummaryTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container fluid>\n    <v-row class=\"ma-0 pa-0\" no-gutters>\n      <v-col cols=\"4\">\n        <v-select v-model=\"selected\" :items=\"items\" label=\"Data\"></v-select>\n      </v-col>\n      <v-spacer></v-spacer>\n    </v-row>\n    <v-row no-gutters>\n      <v-col cols=\"3\">\n        <p class=\"font-weight-black\">First entry date:</p>\n      </v-col>\n      <v-col cols=\"3\">\n        <p>{{ activeFirstDate }}</p>\n      </v-col>\n      <v-col cols=\"3\">\n        <p class=\"font-weight-black\">Last entry date:</p>\n      </v-col>\n      <v-col cols=\"3\">\n        <p>{{ activeLastDate }}</p>\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col cols=\"3\">\n        <p class=\"font-weight-black\">Number of connections:</p>\n      </v-col>\n      <v-col cols=\"3\">\n        <p>{{ activeConnectionCount }}</p>\n      </v-col>\n      <v-col cols=\"3\">\n        <p class=\"font-weight-black\">Storage used:</p>\n      </v-col>\n      <v-col cols=\"3\">\n        <p>{{ activeSize }}</p>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport DetailDataService from \"../services/DetailDataService\";\nimport SummaryDataService from \"../services/SummaryDataService\";\n\nexport default {\n  name: \"DataSummaryTable\",\n  mounted() {\n    this.$nextTick(function () {\n      this.getDetailDataInformation();\n      this.getSummaryDataInformation();\n    });\n  },\n  data: () => ({\n    selected: \"Detail & Summary\",\n\n    detailFirstDate: 5,\n    detailLastDate: 2,\n    detailConnectionCount: 2,\n    detailSize: 400,\n\n    summaryFirstDate: 3,\n    summaryLastDate: 12,\n    summaryConnectionCount: 15,\n    summarySize: 320,\n\n    items: [\"Detail & Summary\", \"Detail\", \"Summary\"],\n  }),\n\n  computed: {\n    activeFirstDate() {\n      switch (this.selected) {\n        case \"Detail\":\n          return this.timestampToDate(this.detailFirstDate);\n        case \"Summary\":\n          return this.timestampToDate(this.summaryFirstDate);\n        default:\n          if (this.detailFirstDate > this.summaryFirstDate) {\n            return this.timestampToDate(this.summaryFirstDate);\n          } else {\n            return this.timestampToDate(this.detailFirstDate);\n          }\n      }\n    },\n    activeLastDate() {\n      switch (this.selected) {\n        case \"Detail\":\n          return this.timestampToDate(this.detailLastDate);\n        case \"Summary\":\n          return this.timestampToDate(this.summaryLastDate);\n        default:\n          if (this.detailLastDate > this.summaryLastDate) {\n            return this.timestampToDate(this.detailLastDate);\n          } else {\n            return this.timestampToDate(this.summaryLastDate);\n          }\n      }\n    },\n    activeConnectionCount() {\n      switch (this.selected) {\n        case \"Detail\":\n          return this.detailConnectionCount;\n        case \"Summary\":\n          return this.summaryConnectionCount;\n        default:\n          return this.detailConnectionCount + this.summaryConnectionCount;\n      }\n    },\n    activeSize() {\n      switch (this.selected) {\n        case \"Detail\":\n          return this.detailSize.toString() + \" MB\";\n        case \"Summary\":\n          return this.summarySize.toString() + \" MB\";\n        default:\n          return (Math.round(this.detailSize*100 + this.summarySize*100)/100).toString() + \" MB\";\n      }\n \n    },\n    mode() {\n        return this.$store.state.mode\n      }\n  },\n\n  watch: {\n    mode() {\n      this.getDetailDataInformation();\n      this.getSummaryDataInformation();\n    },\n\n    selected() {\n      switch (this.selected) {\n        case \"Detail\":\n          this.getDetailDataInformation();\n          return\n        case \"Summary\":\n          this.getSummaryDataInformation();\n          return\n        default:\n          this.getDetailDataInformation();\n          this.getSummaryDataInformation();\n          return\n      }\n    },\n  },\n\n  methods: {\n    getDetailDataInformation() {\n      DetailDataService.get().then((response) => {\n        this.detailFirstDate = response.data[\"first_date\"];\n        this.detailLastDate = response.data[\"last_date\"];\n        this.detailConnectionCount = response.data[\"connection_count\"];\n        this.detailSize = response.data[\"size\"];\n      });\n    },\n    getSummaryDataInformation() {\n      SummaryDataService.get().then((response) => {\n        this.summaryFirstDate = response.data[\"first_date\"];\n        this.summaryLastDate = response.data[\"last_date\"];\n        this.summaryConnectionCount = response.data[\"connection_count\"];\n        this.summarySize = response.data[\"size\"];\n      });\n    },\n\n    timestampToDate(timestamp) {\n      if (timestamp > 0) {\n        return new Date(timestamp * 1000).toLocaleString();\n      } else {\n        return \"None\";\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>"]}]}