{"remainingRequest":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js!/home/someone/projects/pythia/client/node_modules/eslint-loader/index.js??ref--14-0!/home/someone/projects/pythia/client/src/store/index.js","dependencies":[{"path":"/home/someone/projects/pythia/client/src/store/index.js","mtime":1643575168068},{"path":"/home/someone/projects/pythia/client/babel.config.js","mtime":1640282409286},{"path":"/home/someone/projects/pythia/client/node_modules/cache-loader/dist/cjs.js","mtime":1643623769878},{"path":"/home/someone/projects/pythia/client/node_modules/babel-loader/lib/index.js","mtime":1643623769914},{"path":"/home/someone/projects/pythia/client/node_modules/eslint-loader/index.js","mtime":1643623769665}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL3NvbWVvbmUvcHJvamVjdHMvcHl0aGlhL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheS5qcyI7CmltcG9ydCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciBmcm9tICIvaG9tZS9zb21lb25lL3Byb2plY3RzL3B5dGhpYS9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc2V0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBzdW1tYXJ5RGF0YSBmcm9tICcuL21vZHVsZXMvc3VtbWFyeURhdGEnOwppbXBvcnQgZGV0YWlsRGF0YSBmcm9tICcuL21vZHVsZXMvZGV0YWlsRGF0YSc7CmltcG9ydCB7IGFkanVzdEZpbHRlciwgY29udmVydFZpZXdEYXRhLCBjaGVja0ZpbHRlclRyYWNrZXIgfSBmcm9tICcuLi9oZWxwZXJGdW5jdGlvbnMvc3RvcmVIZWxwZXJGdW5jdGlvbnMnOwppbXBvcnQgRGFzaGJvYXJkU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9EYXNoYm9hcmRTZXJ2aWNlJzsKaW1wb3J0IFZpZXdTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL1ZpZXdTZXJ2aWNlJzsKaW1wb3J0IE1vZGVTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL01vZGVTZXJ2aWNlJzsKaW1wb3J0IFBDQVBVcGxvYWRTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL1BDQVBVcGxvYWRTZXJ2aWNlIjsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIG1vZHVsZXM6IHsKICAgIHN1bW1hcnlEYXRhOiBzdW1tYXJ5RGF0YSwKICAgIGRldGFpbERhdGE6IGRldGFpbERhdGEKICB9LAogIHN0YXRlOiB7CiAgICAvL2RpYWxvZ0RhdGEKICAgIGRpYWxvZzogZmFsc2UsCiAgICBkaWFsb2dJc1N1bW1hcnk6IGZhbHNlLAogICAgZGlhbG9nSXNGcm96ZW46IGZhbHNlLAogICAgZGlhbG9nRGF0YUxhYmVsOiAiIiwKICAgIGRpYWxvZ1ZpZXdMYWJlbDogIiIsCiAgICBkaWFsb2dDb2xzOiAiIiwKICAgIGRpYWxvZ0NoYXJ0TnVtYmVyOiAiIiwKICAgIC8vZGFzaGJvYXJkZGF0YQogICAgZGFzaGJvYXJkczogW10sCiAgICBjdXJyZW50RGFzaGJvYXJkOiAiIiwKICAgIC8vc25hY2tiYXIgZGF0YQogICAgc25hY2tiYXI6IGZhbHNlLAogICAgc25hY2tiYXJEZWZhdWx0VGltZW91dDogNTAwMCwKICAgIHNuYWNrYmFyVGltZW91dDogNTAwMCwKICAgIHNuYWNrYmFyTWVzc2FnZTogIiIsCiAgICBzbmFja2JhckNvbG9yOiAiIiwKICAgIG1vZGU6ICIiLAogICAgZmlsdGVyQ2hhbmdlVHJhY2tlcjogewogICAgICBhZGRlZDogbmV3IFNldCgpLAogICAgICBkZWxldGVkOiBuZXcgU2V0KCkKICAgIH0sCiAgICBuZWdhdGl2ZUZpbHRlckNoYW5nZVRyYWNrZXI6IHsKICAgICAgYWRkZWQ6IG5ldyBTZXQoKSwKICAgICAgZGVsZXRlZDogbmV3IFNldCgpCiAgICB9LAogICAgZmlsdGVyczogewogICAgICB0cmFja2VyOiAwLAogICAgICBmaWx0ZXJzOiBuZXcgTWFwKFtbJ3NvdXJjZScsIG5ldyBTZXQoKV0sIFsndGFyZ2V0JywgbmV3IFNldCgpXSwgWydzZXJ2aWNlJywgbmV3IFNldCgpXSwgWydwcm90bycsIG5ldyBTZXQoKV0sIFsncXVlcnlfdGV4dCcsIG5ldyBTZXQoKV0sIFsncV9hbnN3ZXJzJywgbmV3IFNldCgpXSwgWydxX3R5cGUnLCBuZXcgU2V0KCldLCBbJ3FfcmNvZGUnLCBuZXcgU2V0KCldLCBbJ3VpZCcsIG5ldyBTZXQoKV0sIFsncmVzcF9pcF9ieXRlcycsIG5ldyBTZXQoKV0sIFsnb3JpZ19pcF9ieXRlcycsIG5ldyBTZXQoKV0sIFsnZHVyYXRpb24nLCBuZXcgU2V0KCldLCBbJ3Jlc3BfcCcsIG5ldyBTZXQoKV0sIFsnb3JpZ2luX3AnLCBuZXcgU2V0KCldLCBbJ25vdGljZV91aWQnLCBuZXcgU2V0KCldLCBbJ25vdGljZV9oZWFkZXInLCBuZXcgU2V0KCldLCBbJ25vdGljZV9zb3VyY2UnLCBuZXcgU2V0KCldLCBbJ25vdGljZV90YXJnZXQnLCBuZXcgU2V0KCldXSkKICAgIH0sCiAgICBuZWdhdGl2ZUZpbHRlcnM6IHsKICAgICAgdHJhY2tlcjogMCwKICAgICAgZmlsdGVyczogbmV3IE1hcChbWydzb3VyY2UnLCBuZXcgU2V0KCldLCBbJ3RhcmdldCcsIG5ldyBTZXQoKV0sIFsnc2VydmljZScsIG5ldyBTZXQoKV0sIFsncHJvdG8nLCBuZXcgU2V0KCldLCBbJ3F1ZXJ5X3RleHQnLCBuZXcgU2V0KCldLCBbJ3FfYW5zd2VycycsIG5ldyBTZXQoKV0sIFsncV90eXBlJywgbmV3IFNldCgpXSwgWydxX3Jjb2RlJywgbmV3IFNldCgpXSwgWyd1aWQnLCBuZXcgU2V0KCldLCBbJ3Jlc3BfaXBfYnl0ZXMnLCBuZXcgU2V0KCldLCBbJ29yaWdfaXBfYnl0ZXMnLCBuZXcgU2V0KCldLCBbJ2R1cmF0aW9uJywgbmV3IFNldCgpXSwgWydyZXNwX3AnLCBuZXcgU2V0KCldLCBbJ29yaWdpbl9wJywgbmV3IFNldCgpXSwgWydub3RpY2VfdWlkJywgbmV3IFNldCgpXSwgWydub3RpY2VfaGVhZGVyJywgbmV3IFNldCgpXSwgWydub3RpY2Vfc291cmNlJywgbmV3IFNldCgpXSwgWydub3RpY2VfdGFyZ2V0JywgbmV3IFNldCgpXV0pCiAgICB9LAogICAgcENBUExvYWRpbmc6IGZhbHNlLAogICAgdmlld3M6IFtdLAogICAgY29ubmVjdGlvblBvcnRzT2ZJbnRlcmVzdDogWyIxMC90Y3AiLCAiMjEvdGNwIiwgIjIyL3RjcCIsICIyMy90Y3AiLCAiMjUvdGNwIiwgIjgwL3RjcCIsICIxMTAvdGNwIiwgIjEzOS90Y3AiLCAiNDQzL3RjcCIsICI0NDUvdGNwIiwgIjMzODkvdGNwIiwgIjEwL3VkcCIsICI1My91ZHAiLCAiNjcvdWRwIiwgIjEyMy91ZHAiLCAiMTM1L3VkcCIsICIxMzcvdWRwIiwgIjEzOC91ZHAiLCAiMTYxL3VkcCIsICI0NDUvdWRwIiwgIjYzMS91ZHAiLCAiMTQzNC91ZHAiXSwKICAgIHN0YXJ0VGltZTogbnVsbCwKICAgIGVuZFRpbWU6IG51bGwsCiAgICB1cGRhdGVkRmlsdGVyOiBmYWxzZQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRNb2RlOiBmdW5jdGlvbiBzZXRNb2RlKHN0YXRlLCBuYW1lKSB7CiAgICAgIHN0YXRlLm1vZGUgPSBuYW1lOwogICAgfSwKICAgIHJlc2V0RmlsdGVyQ2hhbmdlVHJhY2tlcjogZnVuY3Rpb24gcmVzZXRGaWx0ZXJDaGFuZ2VUcmFja2VyKHN0YXRlKSB7CiAgICAgIHN0YXRlLmZpbHRlckNoYW5nZVRyYWNrZXIuYWRkZWQgPSBuZXcgU2V0KCk7CiAgICAgIHN0YXRlLmZpbHRlckNoYW5nZVRyYWNrZXIuZGVsZXRlZCA9IG5ldyBTZXQoKTsKICAgIH0sCiAgICByZXNldE5lZ2F0aXZlRmlsdGVyQ2hhbmdlVHJhY2tlcjogZnVuY3Rpb24gcmVzZXROZWdhdGl2ZUZpbHRlckNoYW5nZVRyYWNrZXIoc3RhdGUpIHsKICAgICAgc3RhdGUubmVnYXRpdmVGaWx0ZXJDaGFuZ2VUcmFja2VyLmFkZGVkID0gbmV3IFNldCgpOwogICAgICBzdGF0ZS5uZWdhdGl2ZUZpbHRlckNoYW5nZVRyYWNrZXIuZGVsZXRlZCA9IG5ldyBTZXQoKTsKICAgIH0sCiAgICBhZGRGaWx0ZXI6IGZ1bmN0aW9uIGFkZEZpbHRlcihzdGF0ZSwgZmlsdGVyKSB7CiAgICAgIGZpbHRlciA9IGFkanVzdEZpbHRlcihmaWx0ZXIpOwogICAgICBzdGF0ZS5maWx0ZXJzLmZpbHRlcnMuZ2V0KGZpbHRlci50eXBlKS5hZGQoZmlsdGVyLmZpbHRlcik7CiAgICAgIHN0YXRlLmZpbHRlcnMudHJhY2tlciA9IHN0YXRlLmZpbHRlcnMudHJhY2tlciArIDE7CiAgICAgIGNoZWNrRmlsdGVyVHJhY2tlcihzdGF0ZS5maWx0ZXJDaGFuZ2VUcmFja2VyLmFkZGVkLCBzdGF0ZS5maWx0ZXJDaGFuZ2VUcmFja2VyLmRlbGV0ZWQsIGZpbHRlcik7CiAgICB9LAogICAgYWRkTmVnYXRpdmVGaWx0ZXI6IGZ1bmN0aW9uIGFkZE5lZ2F0aXZlRmlsdGVyKHN0YXRlLCBmaWx0ZXIpIHsKICAgICAgZmlsdGVyID0gYWRqdXN0RmlsdGVyKGZpbHRlcik7CiAgICAgIHN0YXRlLm5lZ2F0aXZlRmlsdGVycy5maWx0ZXJzLmdldChmaWx0ZXIudHlwZSkuYWRkKGZpbHRlci5maWx0ZXIpOwogICAgICBzdGF0ZS5uZWdhdGl2ZUZpbHRlcnMudHJhY2tlciA9IHN0YXRlLm5lZ2F0aXZlRmlsdGVycy50cmFja2VyIC0gMTsKICAgICAgY2hlY2tGaWx0ZXJUcmFja2VyKHN0YXRlLm5lZ2F0aXZlRmlsdGVyQ2hhbmdlVHJhY2tlci5hZGRlZCwgc3RhdGUubmVnYXRpdmVGaWx0ZXJDaGFuZ2VUcmFja2VyLmRlbGV0ZWQsIGZpbHRlcik7CiAgICB9LAogICAgcmVtb3ZlRmlsdGVyQnlGaWx0ZXJOYW1lOiBmdW5jdGlvbiByZW1vdmVGaWx0ZXJCeUZpbHRlck5hbWUoc3RhdGUsIGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uaXNOZWdhdGl2ZSkgewogICAgICAgIHN0YXRlLm5lZ2F0aXZlRmlsdGVycy5maWx0ZXJzLmdldChpdGVtLnR5cGUpLmRlbGV0ZShpdGVtLmZpbHRlcik7CiAgICAgICAgc3RhdGUubmVnYXRpdmVGaWx0ZXJzLnRyYWNrZXIgLT0gMTsKICAgICAgICBjaGVja0ZpbHRlclRyYWNrZXIoc3RhdGUubmVnYXRpdmVGaWx0ZXJDaGFuZ2VUcmFja2VyLmRlbGV0ZWQsIHN0YXRlLm5lZ2F0aXZlRmlsdGVyQ2hhbmdlVHJhY2tlci5hZGRlZCwgaXRlbSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUuZmlsdGVycy5maWx0ZXJzLmdldChpdGVtLnR5cGUpLmRlbGV0ZShpdGVtLmZpbHRlcik7CiAgICAgICAgc3RhdGUuZmlsdGVycy50cmFja2VyIC09IDE7CiAgICAgICAgY2hlY2tGaWx0ZXJUcmFja2VyKHN0YXRlLmZpbHRlckNoYW5nZVRyYWNrZXIuZGVsZXRlZCwgc3RhdGUuZmlsdGVyQ2hhbmdlVHJhY2tlci5hZGRlZCwgaXRlbSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVBbGxGaWx0ZXJzOiBmdW5jdGlvbiByZW1vdmVBbGxGaWx0ZXJzKHN0YXRlKSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdGF0ZS5maWx0ZXJzLmZpbHRlcnMuZW50cmllcygpKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9zdGVwJHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXAudmFsdWUsIDIpLAogICAgICAgICAgICAgIGtleSA9IF9zdGVwJHZhbHVlWzBdLAogICAgICAgICAgICAgIHZhbHVlID0gX3N0ZXAkdmFsdWVbMV07CgogICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICB2YXIgZmlsdGVyID0gewogICAgICAgICAgICAgICd0eXBlJzoga2V5LAogICAgICAgICAgICAgICdmaWx0ZXInOiBlbGVtCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNoZWNrRmlsdGVyVHJhY2tlcihzdGF0ZS5maWx0ZXJDaGFuZ2VUcmFja2VyLmRlbGV0ZWQsIHN0YXRlLmZpbHRlckNoYW5nZVRyYWNrZXIuYWRkZWQsIGZpbHRlcik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHN0YXRlLmZpbHRlcnMuZmlsdGVycy5zZXQoa2V5LCBuZXcgU2V0KCkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICBzdGF0ZS5maWx0ZXJzLnRyYWNrZXIgLT0gMTsKCiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3RhdGUubmVnYXRpdmVGaWx0ZXJzLmZpbHRlcnMuZW50cmllcygpKSwKICAgICAgICAgIF9zdGVwMjsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfc3RlcDIkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDIudmFsdWUsIDIpOwoKICAgICAgICAgIGtleSA9IF9zdGVwMiR2YWx1ZVswXTsKICAgICAgICAgIHZhbHVlID0gX3N0ZXAyJHZhbHVlWzFdOwogICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICB2YXIgZmlsdGVyID0gewogICAgICAgICAgICAgICd0eXBlJzoga2V5LAogICAgICAgICAgICAgICdmaWx0ZXInOiBlbGVtCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNoZWNrRmlsdGVyVHJhY2tlcihzdGF0ZS5uZWdhdGl2ZUZpbHRlckNoYW5nZVRyYWNrZXIuZGVsZXRlZCwgc3RhdGUubmVnYXRpdmVGaWx0ZXJDaGFuZ2VUcmFja2VyLmFkZGVkLCBmaWx0ZXIpOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGF0ZS5uZWdhdGl2ZUZpbHRlcnMuZmlsdGVycy5zZXQoa2V5LCBuZXcgU2V0KCkpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yMi5mKCk7CiAgICAgIH0KCiAgICAgIHN0YXRlLm5lZ2F0aXZlRmlsdGVycy50cmFja2VyIC09IDE7CiAgICB9LAogICAgcmVtb3ZlQWxsTmVnYXRpdmVGaWx0ZXJzOiBmdW5jdGlvbiByZW1vdmVBbGxOZWdhdGl2ZUZpbHRlcnMoc3RhdGUpIHsKICAgICAgdmFyIF9pdGVyYXRvcjMgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdGF0ZS5uZWdhdGl2ZUZpbHRlcnMuZmlsdGVycy5lbnRyaWVzKCkpLAogICAgICAgICAgX3N0ZXAzOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjMucygpOyAhKF9zdGVwMyA9IF9pdGVyYXRvcjMubigpKS5kb25lOykgewogICAgICAgICAgdmFyIF9zdGVwMyR2YWx1ZSA9IF9zbGljZWRUb0FycmF5KF9zdGVwMy52YWx1ZSwgMiksCiAgICAgICAgICAgICAga2V5ID0gX3N0ZXAzJHZhbHVlWzBdLAogICAgICAgICAgICAgIHZhbHVlID0gX3N0ZXAzJHZhbHVlWzFdOwoKICAgICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgICAgdmFyIGZpbHRlciA9IHsKICAgICAgICAgICAgICAndHlwZSc6IGtleSwKICAgICAgICAgICAgICAnZmlsdGVyJzogZWxlbQogICAgICAgICAgICB9OwogICAgICAgICAgICBjaGVja0ZpbHRlclRyYWNrZXIoc3RhdGUubmVnYXRpdmVGaWx0ZXJDaGFuZ2VUcmFja2VyLmRlbGV0ZWQsIHN0YXRlLm5lZ2F0aXZlRmlsdGVyQ2hhbmdlVHJhY2tlci5hZGRlZCwgZmlsdGVyKTsKICAgICAgICAgIH0pOwogICAgICAgICAgc3RhdGUubmVnYXRpdmVGaWx0ZXJzLmZpbHRlcnMuc2V0KGtleSwgbmV3IFNldCgpKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICB9CgogICAgICBzdGF0ZS5uZWdhdGl2ZUZpbHRlcnMudHJhY2tlciAtPSAxOwogICAgfSwKICAgIHJlbW92ZVZpZXc6IGZ1bmN0aW9uIHJlbW92ZVZpZXcoc3RhdGUsIGlkKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUudmlld3MubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoc3RhdGUudmlld3NbaV0uY2hhcnROdW1iZXIgPT09IGlkKSB7CiAgICAgICAgICBzdGF0ZS52aWV3cy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkVmlldzogZnVuY3Rpb24gYWRkVmlldyhzdGF0ZSwgdmlld0RhdGEpIHsKICAgICAgc3RhdGUudmlld3MucHVzaCh2aWV3RGF0YSk7CiAgICB9LAogICAgdXBkYXRlVmlldzogZnVuY3Rpb24gdXBkYXRlVmlldyhzdGF0ZSwgdmlld0RhdGEpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS52aWV3cy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5jaGFydE51bWJlciA9PSBzdGF0ZS5kaWFsb2dDaGFydE51bWJlcjsKICAgICAgfSk7CiAgICAgIHsKICAgICAgICBlbGVtZW50LmlzRnJvemVuID0gdmlld0RhdGEuaXNGcm96ZW47CiAgICAgICAgZWxlbWVudC5pc1N1bW1hcnkgPSB2aWV3RGF0YS5pc1N1bW1hcnk7CiAgICAgICAgZWxlbWVudC5jb2xzID0gdmlld0RhdGEuY29sczsKICAgICAgICBlbGVtZW50LmRhdGFMYWJlbCA9IHZpZXdEYXRhLmRhdGFMYWJlbDsKICAgICAgICBlbGVtZW50LnZpZXdMYWJlbCA9IHZpZXdEYXRhLnZpZXdMYWJlbDsKICAgICAgICBlbGVtZW50LnZpZXcgPSB2aWV3RGF0YS52aWV3OwogICAgICAgIGVsZW1lbnQudHlwZSA9IHZpZXdEYXRhLnR5cGU7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuVmlld09wdGlvbjogZnVuY3Rpb24gb3BlblZpZXdPcHRpb24oc3RhdGUsIGlkKSB7CiAgICAgIHZhciBlbGVtZW50ID0gc3RhdGUudmlld3MuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICByZXR1cm4gZWwuY2hhcnROdW1iZXIgPT0gaWQ7CiAgICAgIH0pOwogICAgICBzdGF0ZS5kaWFsb2dJc1N1bW1hcnkgPSBlbGVtZW50LmlzU3VtbWFyeTsKICAgICAgc3RhdGUuZGlhbG9nSXNGcm96ZW4gPSBlbGVtZW50LmlzRnJvemVuOwogICAgICBzdGF0ZS5kaWFsb2dDaGFydE51bWJlciA9IGlkOwogICAgICBzdGF0ZS5kaWFsb2dDb2xzID0gZWxlbWVudC5jb2xzOwogICAgICBzdGF0ZS5kaWFsb2dEYXRhTGFiZWwgPSBlbGVtZW50LmRhdGFMYWJlbDsKICAgICAgc3RhdGUuZGlhbG9nVmlld0xhYmVsID0gZWxlbWVudC52aWV3TGFiZWw7CiAgICAgIHN0YXRlLmRpYWxvZ1ZpZXcgPSBlbGVtZW50LnZpZXc7CiAgICAgIHN0YXRlLmRpYWxvZyA9IHRydWU7CiAgICB9LAogICAgZnJlZXplVmlldzogZnVuY3Rpb24gZnJlZXplVmlldyhzdGF0ZSwgaWQpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS52aWV3cy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5jaGFydE51bWJlciA9PSBpZDsKICAgICAgfSk7CiAgICAgIGVsZW1lbnQuaXNGcm96ZW4gPSB0cnVlOwogICAgfSwKICAgIHVuZnJlZXplVmlldzogZnVuY3Rpb24gdW5mcmVlemVWaWV3KHN0YXRlLCBpZCkgewogICAgICB2YXIgZWxlbWVudCA9IHN0YXRlLnZpZXdzLmZpbmQoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLmNoYXJ0TnVtYmVyID09IGlkOwogICAgICB9KTsKICAgICAgZWxlbWVudC5pc0Zyb3plbiA9IGZhbHNlOwogICAgfSwKICAgIHNldFNuYWNrYmFyOiBmdW5jdGlvbiBzZXRTbmFja2JhcihzdGF0ZSwgbmV3VmFsdWUpIHsKICAgICAgc3RhdGUuc25hY2tiYXIgPSBuZXdWYWx1ZTsKICAgIH0sCiAgICBzZXRTbmFja2Jhck1lc3NhZ2U6IGZ1bmN0aW9uIHNldFNuYWNrYmFyTWVzc2FnZShzdGF0ZSwgbmV3VmFsdWUpIHsKICAgICAgc3RhdGUuc25hY2tiYXJNZXNzYWdlID0gbmV3VmFsdWU7CiAgICB9LAogICAgc2V0U25hY2tiYXJDb2xvcjogZnVuY3Rpb24gc2V0U25hY2tiYXJDb2xvcihzdGF0ZSwgY29sb3IpIHsKICAgICAgc3RhdGUuc25hY2tiYXJDb2xvciA9IGNvbG9yOwogICAgfSwKICAgIHNldFNuYWNrYmFyVGltZW91dDogZnVuY3Rpb24gc2V0U25hY2tiYXJUaW1lb3V0KHN0YXRlLCB0aW1lb3V0KSB7CiAgICAgIHN0YXRlLnNuYWNrYmFyVGltZW91dCA9IHRpbWVvdXQ7CiAgICB9LAogICAgc2V0RGlhbG9nOiBmdW5jdGlvbiBzZXREaWFsb2coc3RhdGUsIGJvb2wpIHsKICAgICAgc3RhdGUuZGlhbG9nID0gYm9vbDsKICAgIH0sCiAgICBzZXRTdGFydFRpbWU6IGZ1bmN0aW9uIHNldFN0YXJ0VGltZShzdGF0ZSwgc3RhcnRUaW1lKSB7CiAgICAgIHN0YXRlLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTsKICAgIH0sCiAgICBzZXRFbmRUaW1lOiBmdW5jdGlvbiBzZXRFbmRUaW1lKHN0YXRlLCBlbmRUaW1lKSB7CiAgICAgIHN0YXRlLmVuZFRpbWUgPSBlbmRUaW1lOwogICAgfSwKICAgIHNldERhc2hib2FyZHM6IGZ1bmN0aW9uIHNldERhc2hib2FyZHMoc3RhdGUsIGRhc2hib2FyZHMpIHsKICAgICAgc3RhdGUuZGFzaGJvYXJkcyA9IGRhc2hib2FyZHM7CiAgICB9LAogICAgYWRkRGFzaGJvYXJkOiBmdW5jdGlvbiBhZGREYXNoYm9hcmQoc3RhdGUsIG5ld0Rhc2hib2FyZCkgewogICAgICBzdGF0ZS5kYXNoYm9hcmRzLnB1c2gobmV3RGFzaGJvYXJkKTsKICAgIH0sCiAgICByZW1vdmVEYXNoYm9hcmQ6IGZ1bmN0aW9uIHJlbW92ZURhc2hib2FyZChzdGF0ZSwgbmFtZSkgewogICAgICBzdGF0ZS5kYXNoYm9hcmRzID0gc3RhdGUuZGFzaGJvYXJkcy5maWx0ZXIoZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICByZXR1cm4gZWxlbS5uYW1lICE9IG5hbWU7CiAgICAgIH0pOwogICAgfSwKICAgIHNldEN1cnJlbnREYXNoYm9hcmQ6IGZ1bmN0aW9uIHNldEN1cnJlbnREYXNoYm9hcmQoc3RhdGUsIGN1cnJlbnREYXNoYm9hcmQpIHsKICAgICAgc3RhdGUuY3VycmVudERhc2hib2FyZCA9IGN1cnJlbnREYXNoYm9hcmQ7CiAgICB9LAogICAgc2V0Vmlld3M6IGZ1bmN0aW9uIHNldFZpZXdzKHN0YXRlLCB2aWV3cykgewogICAgICBzdGF0ZS52aWV3cyA9IHZpZXdzOwogICAgfSwKICAgIHNldFBDQVBMb2FkaW5nOiBmdW5jdGlvbiBzZXRQQ0FQTG9hZGluZyhzdGF0ZSwgYm9vbCkgewogICAgICBzdGF0ZS5wQ0FQTG9hZGluZyA9IGJvb2w7CiAgICB9LAogICAgY2hhbmdlVXBkYXRlZEZpbHRlcjogZnVuY3Rpb24gY2hhbmdlVXBkYXRlZEZpbHRlcihzdGF0ZSkgewogICAgICBzdGF0ZS51cGRhdGVkRmlsdGVyID0gIXN0YXRlLnVwZGF0ZWRGaWx0ZXI7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBvcGVuVmlld09wdGlvbjogZnVuY3Rpb24gb3BlblZpZXdPcHRpb24oY29udGV4dCwgaWQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ29wZW5WaWV3T3B0aW9uJywgaWQpOwogICAgfSwKICAgIGZyZWV6ZVZpZXc6IGZ1bmN0aW9uIGZyZWV6ZVZpZXcoY29udGV4dCwgaWQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ2ZyZWV6ZVZpZXcnLCBpZCk7CiAgICB9LAogICAgdW5mcmVlemVWaWV3OiBmdW5jdGlvbiB1bmZyZWV6ZVZpZXcoY29udGV4dCwgaWQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3VuZnJlZXplVmlldycsIGlkKTsKICAgIH0sCiAgICBhZGRGaWx0ZXI6IGZ1bmN0aW9uIGFkZEZpbHRlcihjb250ZXh0LCBmaWx0ZXIpIHsKICAgICAgY29udGV4dC5jb21taXQoJ2FkZEZpbHRlcicsIGZpbHRlcik7CiAgICB9LAogICAgYWRkTmVnYXRpdmVGaWx0ZXI6IGZ1bmN0aW9uIGFkZE5lZ2F0aXZlRmlsdGVyKGNvbnRleHQsIGZpbHRlcikgewogICAgICBjb250ZXh0LmNvbW1pdCgnYWRkTmVnYXRpdmVGaWx0ZXInLCBmaWx0ZXIpOwogICAgfSwKICAgIHJlbW92ZUZpbHRlckJ5RmlsdGVyTmFtZTogZnVuY3Rpb24gcmVtb3ZlRmlsdGVyQnlGaWx0ZXJOYW1lKGNvbnRleHQsIG5hbWUpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3JlbW92ZUZpbHRlckJ5RmlsdGVyTmFtZScsIG5hbWUpOwogICAgfSwKICAgIHJlbW92ZUFsbE5lZ2F0aXZlRmlsdGVyczogZnVuY3Rpb24gcmVtb3ZlQWxsTmVnYXRpdmVGaWx0ZXJzKGNvbnRleHQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3JlbW92ZUFsbE5lZ2F0aXZlRmlsdGVycycpOwogICAgfSwKICAgIHJlbW92ZUFsbEZpbHRlcnM6IGZ1bmN0aW9uIHJlbW92ZUFsbEZpbHRlcnMoY29udGV4dCkgewogICAgICBjb250ZXh0LmNvbW1pdCgncmVtb3ZlQWxsRmlsdGVycycpOwogICAgfSwKICAgIHNldERpYWxvZzogZnVuY3Rpb24gc2V0RGlhbG9nKGNvbnRleHQsIGRpYWxvZykgewogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0RGlhbG9nJywgZGlhbG9nKTsKICAgIH0sCiAgICBzZXRTdGFydFRpbWU6IGZ1bmN0aW9uIHNldFN0YXJ0VGltZShjb250ZXh0LCBzdGFydFRpbWUpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3NldFN0YXJ0VGltZScsIHN0YXJ0VGltZSk7CiAgICB9LAogICAgc2V0RW5kVGltZTogZnVuY3Rpb24gc2V0RW5kVGltZShjb250ZXh0LCBlbmRUaW1lKSB7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRFbmRUaW1lJywgZW5kVGltZSk7CiAgICB9LAogICAgc2V0U25hY2tiYXI6IGZ1bmN0aW9uIHNldFNuYWNrYmFyKGNvbnRleHQsIG5ld09wdGlvbnMpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3NldFNuYWNrYmFyJywgbmV3T3B0aW9ucyk7CiAgICB9LAogICAgdHJpZ2dlclNuYWNrYmFyOiBmdW5jdGlvbiB0cmlnZ2VyU25hY2tiYXIoY29udGV4dCwgb3B0aW9ucykgewogICAgICB2YXIgdGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCBjb250ZXh0LnN0YXRlLnNuYWNrYmFyRGVmYXVsdFRpbWVvdXQ7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhclRpbWVvdXQnLCB0aW1lb3V0KTsKICAgICAgY29udGV4dC5jb21taXQoJ3NldFNuYWNrYmFyTWVzc2FnZScsIG9wdGlvbnMubWVzc2FnZSk7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhckNvbG9yJywgb3B0aW9ucy5jb2xvcik7CiAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhcicsIHRydWUpOwogICAgfSwKICAgIGdldEFsbERhdGE6IGZ1bmN0aW9uIGdldEFsbERhdGEoY29udGV4dCkgewogICAgICBjb250ZXh0LmNvbW1pdCgnY2hhbmdlVXBkYXRlZEZpbHRlcicpOwogICAgICBjb250ZXh0LmRpc3BhdGNoKCJzdW1tYXJ5RGF0YS9nZXREYXRhQnlUaW1lIik7CiAgICAgIGNvbnRleHQuZGlzcGF0Y2goImRldGFpbERhdGEvZ2V0RGF0YUJ5VGltZSIpOwogICAgfSwKICAgIHVwbG9hZFBDQVA6IGZ1bmN0aW9uIHVwbG9hZFBDQVAoY29udGV4dCwgZGF0YSkgewogICAgICBjb250ZXh0LmNvbW1pdCgnc2V0UENBUExvYWRpbmcnLCB0cnVlKTsKICAgICAgUENBUFVwbG9hZFNlcnZpY2UucG9zdChkYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0U25hY2tiYXJUaW1lb3V0JywgMjAwMCk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFNuYWNrYmFyTWVzc2FnZScsICcgVGhlIHVwbG9hZCB3YXMgc3VjY2Vzc2Z1bCwgeW91IGNhbiBub3cgc3dpdGNoIHRvIHBjYXAgbW9kZScpOwogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhckNvbG9yJywgJ2dyZWVuJyk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFNuYWNrYmFyJywgdHJ1ZSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhclRpbWVvdXQnLCA1MDAwKTsKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2Jhck1lc3NhZ2UnLCBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFNuYWNrYmFyQ29sb3InLCAnZXJyb3InKTsKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhcicsIHRydWUpOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFBDQVBMb2FkaW5nJywgZmFsc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXREYXNoYm9hcmROYW1lczogZnVuY3Rpb24gZ2V0RGFzaGJvYXJkTmFtZXMoY29udGV4dCkgewogICAgICBEYXNoYm9hcmRTZXJ2aWNlLmdldEFsbE5hbWVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGFzaGJvYXJkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRfZGFzaGJvYXJkIik7CgogICAgICAgIGlmIChkYXNoYm9hcmQpIHsKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRDdXJyZW50RGFzaGJvYXJkJywgZGFzaGJvYXJkKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEN1cnJlbnREYXNoYm9hcmQnLCByZXNwb25zZS5kYXRhWzBdLm5hbWUpOwogICAgICAgIH0KCiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldERhc2hib2FyZHMnLCByZXNwb25zZS5kYXRhKTsKICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCdzd2l0Y2hEYXNoYm9hcmQnLCBjb250ZXh0LnN0YXRlLmN1cnJlbnREYXNoYm9hcmQpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGREYXNoYm9hcmQ6IGZ1bmN0aW9uIGFkZERhc2hib2FyZChjb250ZXh0LCBuYW1lKSB7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG5hbWU6IG5hbWUKICAgICAgfTsKICAgICAgRGFzaGJvYXJkU2VydmljZS5wb3N0KGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoJ2FkZERhc2hib2FyZCcsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVEYXNoYm9hcmQ6IGZ1bmN0aW9uIHJlbW92ZURhc2hib2FyZChjb250ZXh0LCBuYW1lKSB7CiAgICAgIERhc2hib2FyZFNlcnZpY2UuZGVsZXRlKG5hbWUpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdyZW1vdmVEYXNoYm9hcmQnLCBuYW1lKTsgLy9jaGFuZ2UgY3VycmVudCBkYXNoYm9hcmQgaWYgY3VycmVudCBkYXNoYm9hcmQgaXMgZGVsZXRlZAoKICAgICAgICBpZiAoY29udGV4dC5zdGF0ZS5kYXNoYm9hcmRzLmxlbmd0aCA+IDAgJiYgY29udGV4dC5zdGF0ZS5jdXJyZW50RGFzaGJvYXJkID09IG5hbWUpIHsKICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ3N3aXRjaERhc2hib2FyZCcsIGNvbnRleHQuc3RhdGUuZGFzaGJvYXJkc1swXS5uYW1lKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHN3aXRjaERhc2hib2FyZDogZnVuY3Rpb24gc3dpdGNoRGFzaGJvYXJkKGNvbnRleHQsIG5hbWUpIHsKICAgICAgaWYgKG5hbWUgPT0gY29udGV4dC5zdGF0ZS5jdXJyZW50RGFzaGJvYXJkICYmIGNvbnRleHQuc3RhdGUudmlld3MubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgRGFzaGJvYXJkU2VydmljZS5nZXQobmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXNwb25zZS5kYXRhLnZpZXdzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgIGNvbnZlcnRWaWV3RGF0YShlbGVtKTsKICAgICAgICB9KTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0Vmlld3MnLCByZXNwb25zZS5kYXRhLnZpZXdzKTsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0Q3VycmVudERhc2hib2FyZCcsIHJlc3BvbnNlLmRhdGEubmFtZSk7CiAgICAgICAgY29udGV4dC5kaXNwYXRjaCgic3VtbWFyeURhdGEvZ2V0RGF0YUJ5VGltZSIpOwogICAgICAgIGNvbnRleHQuZGlzcGF0Y2goImRldGFpbERhdGEvZ2V0RGF0YUJ5VGltZSIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJjdXJyZW50X2Rhc2hib2FyZCIsIHJlc3BvbnNlLmRhdGEubmFtZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHN3aXRjaE1vZGU6IGZ1bmN0aW9uIHN3aXRjaE1vZGUoY29udGV4dCwgbmFtZSkgewogICAgICBpZiAobmFtZSA9PSBjb250ZXh0LnN0YXRlLm1vZGUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG1vZGU6IG5hbWUKICAgICAgfTsKICAgICAgTW9kZVNlcnZpY2UucG9zdChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRNb2RlJywgcmVzcG9uc2UuZGF0YS5tb2RlKTsKICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCJzdW1tYXJ5RGF0YS9nZXREYXRhQnlUaW1lIik7CiAgICAgICAgY29udGV4dC5kaXNwYXRjaCgiZGV0YWlsRGF0YS9nZXREYXRhQnlUaW1lIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNTAzKSB7CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0U25hY2tiYXJUaW1lb3V0JywgMjAwMCk7CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0U25hY2tiYXJNZXNzYWdlJywgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRTbmFja2JhckNvbG9yJywgJ2Vycm9yJyk7CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0U25hY2tiYXInLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldE1vZGU6IGZ1bmN0aW9uIGdldE1vZGUoY29udGV4dCkgewogICAgICBNb2RlU2VydmljZS5nZXQoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRNb2RlJywgcmVzcG9uc2UuZGF0YS5tb2RlKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVtb3ZlVmlldzogZnVuY3Rpb24gcmVtb3ZlVmlldyhjb250ZXh0LCB2aWV3RGF0YSkgewogICAgICBWaWV3U2VydmljZS5kZWxldGUodmlld0RhdGEuY2hhcnROdW1iZXIpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCdyZW1vdmVWaWV3Jywgdmlld0RhdGEuY2hhcnROdW1iZXIpOwoKICAgICAgICBpZiAodmlld0RhdGEuaXNTdW1tYXJ5KSB7CiAgICAgICAgICBjb250ZXh0LmRpc3BhdGNoKCdzdW1tYXJ5RGF0YS9kZWxldGVEYXRhSWZOb3RBY3RpdmUnLCB2aWV3RGF0YS50eXBlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnZGV0YWlsRGF0YS9kZWxldGVEYXRhSWZOb3RBY3RpdmUnLCB2aWV3RGF0YS50eXBlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGFkZFZpZXc6IGZ1bmN0aW9uIGFkZFZpZXcoY29udGV4dCwgdmlld0RhdGEpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgJ2Rhc2hib2FyZF9uYW1lJzogY29udGV4dC5zdGF0ZS5jdXJyZW50RGFzaGJvYXJkLAogICAgICAgICdkYXRhX2xhYmVsJzogdmlld0RhdGEuZGF0YUxhYmVsLAogICAgICAgICd2aWV3X2xhYmVsJzogdmlld0RhdGEudmlld0xhYmVsLAogICAgICAgICd2aWV3X3R5cGUnOiB2aWV3RGF0YS50eXBlLAogICAgICAgICdpc19mcm96ZW4nOiB2aWV3RGF0YS5pc0Zyb3plbiwKICAgICAgICAnaXNfc3VtbWFyeSc6IHZpZXdEYXRhLmlzU3VtbWFyeSwKICAgICAgICAndmlldyc6IHZpZXdEYXRhLnZpZXcsCiAgICAgICAgJ2NvbHMnOiB2aWV3RGF0YS5jb2xzCiAgICAgIH07CiAgICAgIFZpZXdTZXJ2aWNlLnBvc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb252ZXJ0Vmlld0RhdGEocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgY29udGV4dC5jb21taXQoImFkZFZpZXciLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgaWYgKHZpZXdEYXRhLmlzU3VtbWFyeSkgewogICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnc3VtbWFyeURhdGEvZ2V0RGF0YUlmQWN0aXZlJywgdmlld0RhdGEudHlwZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2RldGFpbERhdGEvZ2V0RGF0YUlmQWN0aXZlJywgdmlld0RhdGEudHlwZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGRhdGVWaWV3OiBmdW5jdGlvbiB1cGRhdGVWaWV3KGNvbnRleHQsIHZpZXdEYXRhKSB7CiAgICAgIHZhciBlbGVtZW50ID0gY29udGV4dC5zdGF0ZS52aWV3cy5maW5kKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbC5jaGFydE51bWJlciA9PSBjb250ZXh0LnN0YXRlLmRpYWxvZ0NoYXJ0TnVtYmVyOwogICAgICB9KTsKICAgICAgdmFyIG9sZFR5cGUgPSBlbGVtZW50LnR5cGU7CiAgICAgIHZhciBvbGRJc1N1bW1hcnkgPSBlbGVtZW50LmlzU3VtbWFyeTsKCiAgICAgIGlmIChlbGVtZW50LmNvbHMgPT0gdmlld0RhdGEuY29scyAmJiBlbGVtZW50LnZpZXcgPT0gdmlld0RhdGEudmlldyAmJiBlbGVtZW50LnZpZXcgJiYgZWxlbWVudC50eXBlID09IHZpZXdEYXRhLnR5cGUgJiYgZWxlbWVudC5pc1N1bW1hcnkgPT0gdmlld0RhdGEuaXNTdW1tYXJ5ICYmIHZpZXdEYXRhLmlzRnJvemVuID09IGVsZW1lbnQuaXNGcm96ZW4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAnaWQnOiBjb250ZXh0LnN0YXRlLmRpYWxvZ0NoYXJ0TnVtYmVyLAogICAgICAgICAgJ2Rhc2hib2FyZF9uYW1lJzogY29udGV4dC5zdGF0ZS5jdXJyZW50RGFzaGJvYXJkLAogICAgICAgICAgJ2RhdGFfbGFiZWwnOiB2aWV3RGF0YS5kYXRhTGFiZWwsCiAgICAgICAgICAndmlld19sYWJlbCc6IHZpZXdEYXRhLnZpZXdMYWJlbCwKICAgICAgICAgICd2aWV3X3R5cGUnOiB2aWV3RGF0YS50eXBlLAogICAgICAgICAgJ2lzX2Zyb3plbic6IHZpZXdEYXRhLmlzRnJvemVuLAogICAgICAgICAgJ2lzX3N1bW1hcnknOiB2aWV3RGF0YS5pc1N1bW1hcnksCiAgICAgICAgICAndmlldyc6IHZpZXdEYXRhLnZpZXcsCiAgICAgICAgICAnY29scyc6IHZpZXdEYXRhLmNvbHMKICAgICAgICB9OwogICAgICAgIFZpZXdTZXJ2aWNlLnB1dChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgY29udmVydFZpZXdEYXRhKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgY29udGV4dC5jb21taXQoJ3VwZGF0ZVZpZXcnLCByZXNwb25zZS5kYXRhKTsKCiAgICAgICAgICBpZiAodmlld0RhdGEuaXNTdW1tYXJ5KSB7CiAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ3N1bW1hcnlEYXRhL2dldERhdGFJZkFjdGl2ZScsIHZpZXdEYXRhLnR5cGUpOwoKICAgICAgICAgICAgaWYgKG9sZElzU3VtbWFyeSkgewogICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ3N1bW1hcnlEYXRhL2RlbGV0ZURhdGFJZk5vdEFjdGl2ZScsIG9sZFR5cGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2RldGFpbERhdGEvZGVsZXRlRGF0YUlmTm90QWN0aXZlJywgb2xkVHlwZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2RldGFpbERhdGEvZ2V0RGF0YUlmQWN0aXZlJywgdmlld0RhdGEudHlwZSk7CgogICAgICAgICAgICBpZiAoIW9sZElzU3VtbWFyeSkgewogICAgICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2goJ2RldGFpbERhdGEvZ2V0RGF0YUlmQWN0aXZlJywgdmlld0RhdGEudHlwZSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgY29udGV4dC5kaXNwYXRjaCgnc3VtbWFyeURhdGEvZGVsZXRlRGF0YUlmTm90QWN0aXZlJywgb2xkVHlwZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgbnVtYmVyT2ZDaGFuZ2VzOiBmdW5jdGlvbiBudW1iZXJPZkNoYW5nZXMoc3RhdGUpIHsKICAgICAgc3RhdGUuZmlsdGVycy50cmFja2VyOwogICAgICBzdGF0ZS5uZWdhdGl2ZUZpbHRlcnMudHJhY2tlcjsKICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlckNoYW5nZVRyYWNrZXIuYWRkZWQuc2l6ZSArIHN0YXRlLmZpbHRlckNoYW5nZVRyYWNrZXIuZGVsZXRlZC5zaXplICsgc3RhdGUubmVnYXRpdmVGaWx0ZXJDaGFuZ2VUcmFja2VyLmFkZGVkLnNpemUgKyBzdGF0ZS5uZWdhdGl2ZUZpbHRlckNoYW5nZVRyYWNrZXIuZGVsZXRlZC5zaXplOwogICAgfSwKICAgIGhhc0ZpbHRlcjogZnVuY3Rpb24gaGFzRmlsdGVyKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICByZXR1cm4gdHlwZSAhPSAiaXBCeXRlU3VtbWFyeSI7CiAgICAgIH07CiAgICB9LAogICAgdmlld0NvdW50QnlWaWV3U3VtbWFyeTogZnVuY3Rpb24gdmlld0NvdW50QnlWaWV3U3VtbWFyeShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICB2YXIgY291bnRlciA9IDA7CiAgICAgICAgc3RhdGUudmlld3MuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgcmV0dXJuIGVsZW0udHlwZSA9PT0gbmFtZSAmJiBlbGVtLmlzU3VtbWFyeSA/IGNvdW50ZXIrKyA6IHRydWU7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGNvdW50ZXI7CiAgICAgIH07CiAgICB9LAogICAgdmlld0NvdW50QnlWaWV3RGV0YWlsOiBmdW5jdGlvbiB2aWV3Q291bnRCeVZpZXdEZXRhaWwoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgdmFyIGNvdW50ZXIgPSAwOwogICAgICAgIHN0YXRlLnZpZXdzLmZvckVhY2goZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICAgIHJldHVybiBlbGVtLnR5cGUgPT09IG5hbWUgJiYgIWVsZW0uaXNTdW1tYXJ5ID8gY291bnRlcisrIDogdHJ1ZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gY291bnRlcjsKICAgICAgfTsKICAgIH0sCiAgICBhbGxGaWx0ZXJzOiBmdW5jdGlvbiBhbGxGaWx0ZXJzKHN0YXRlKSB7CiAgICAgIHN0YXRlLmZpbHRlcnMudHJhY2tlcjsKICAgICAgc3RhdGUubmVnYXRpdmVGaWx0ZXJzLnRyYWNrZXI7CiAgICAgIHZhciByZXN1bHQgPSBbXTsKCiAgICAgIHZhciBfaXRlcmF0b3I0ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3RhdGUuZmlsdGVycy5maWx0ZXJzLmVudHJpZXMoKSksCiAgICAgICAgICBfc3RlcDQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNC5zKCk7ICEoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX3N0ZXA0JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA0LnZhbHVlLCAyKSwKICAgICAgICAgICAgICBrZXkgPSBfc3RlcDQkdmFsdWVbMF0sCiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcDQkdmFsdWVbMV07CgogICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICAgICAgJ3R5cGUnOiBrZXksCiAgICAgICAgICAgICAgJ2ZpbHRlcic6IGVsZW0sCiAgICAgICAgICAgICAgJ2lzTmVnYXRpdmUnOiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yNC5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yNC5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBfaXRlcmF0b3I1ID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc3RhdGUubmVnYXRpdmVGaWx0ZXJzLmZpbHRlcnMuZW50cmllcygpKSwKICAgICAgICAgIF9zdGVwNTsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I1LnMoKTsgIShfc3RlcDUgPSBfaXRlcmF0b3I1Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfc3RlcDUkdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDUudmFsdWUsIDIpOwoKICAgICAgICAgIGtleSA9IF9zdGVwNSR2YWx1ZVswXTsKICAgICAgICAgIHZhbHVlID0gX3N0ZXA1JHZhbHVlWzFdOwogICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkgewogICAgICAgICAgICByZXN1bHQucHVzaCh7CiAgICAgICAgICAgICAgJ3R5cGUnOiBrZXksCiAgICAgICAgICAgICAgJ2ZpbHRlcic6IGVsZW0sCiAgICAgICAgICAgICAgJ2lzTmVnYXRpdmUnOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I1LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I1LmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBmaWx0ZXJCeVR5cGU6IGZ1bmN0aW9uIGZpbHRlckJ5VHlwZShzdGF0ZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUpIHsKICAgICAgICBzdGF0ZS5maWx0ZXJzLnRyYWNrZXI7CiAgICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlcnMuZmlsdGVycy5nZXQodHlwZSk7CiAgICAgIH07CiAgICB9LAogICAgbmVnYXRpdmVGaWx0ZXJCeVR5cGU6IGZ1bmN0aW9uIG5lZ2F0aXZlRmlsdGVyQnlUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHN0YXRlLm5lZ2F0aXZlRmlsdGVycy50cmFja2VyOwogICAgICAgIHJldHVybiBzdGF0ZS5uZWdhdGl2ZUZpbHRlcnMuZmlsdGVycy5nZXQodHlwZSk7CiAgICAgIH07CiAgICB9LAogICAgZmlsdGVyUmVxdWVzdFBhcmFtczogZnVuY3Rpb24gZmlsdGVyUmVxdWVzdFBhcmFtcyhzdGF0ZSkgewogICAgICBzdGF0ZS51cGRhdGVkRmlsdGVyOwogICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnMuZmlsdGVyczsKICAgICAgdmFyIG5lZ2F0aXZlRmlsdGVycyA9IHN0YXRlLm5lZ2F0aXZlRmlsdGVycy5maWx0ZXJzOwogICAgICB2YXIgcmVzdWx0ID0ge307CiAgICAgIHJlc3VsdFsnZmlsdGVycyddID0ge307CiAgICAgIHJlc3VsdFsnZmlsdGVycyddWydzdGFydF90aW1lJ10gPSBzdGF0ZS5zdGFydFRpbWUgLyAxMDAwOwogICAgICByZXN1bHRbJ2ZpbHRlcnMnXVsnZW5kX3RpbWUnXSA9IHN0YXRlLmVuZFRpbWUgLyAxMDAwOwoKICAgICAgdmFyIF9pdGVyYXRvcjYgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihmaWx0ZXJzLmVudHJpZXMoKSksCiAgICAgICAgICBfc3RlcDY7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yNi5zKCk7ICEoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIgX3N0ZXA2JHZhbHVlID0gX3NsaWNlZFRvQXJyYXkoX3N0ZXA2LnZhbHVlLCAyKSwKICAgICAgICAgICAgICBrZXkgPSBfc3RlcDYkdmFsdWVbMF0sCiAgICAgICAgICAgICAgdmFsdWUgPSBfc3RlcDYkdmFsdWVbMV07CgogICAgICAgICAgaWYgKHZhbHVlLnNpemUgPiAwKSB7CiAgICAgICAgICAgIHJlc3VsdFsnZmlsdGVycyddW2tleV0gPSBBcnJheS5mcm9tKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjYuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjYuZigpOwogICAgICB9CgogICAgICByZXN1bHRbJ25lZ2F0aXZlX2ZpbHRlcnMnXSA9IHt9OwoKICAgICAgdmFyIF9pdGVyYXRvcjcgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihuZWdhdGl2ZUZpbHRlcnMuZW50cmllcygpKSwKICAgICAgICAgIF9zdGVwNzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3I3LnMoKTsgIShfc3RlcDcgPSBfaXRlcmF0b3I3Lm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBfc3RlcDckdmFsdWUgPSBfc2xpY2VkVG9BcnJheShfc3RlcDcudmFsdWUsIDIpOwoKICAgICAgICAgIGtleSA9IF9zdGVwNyR2YWx1ZVswXTsKICAgICAgICAgIHZhbHVlID0gX3N0ZXA3JHZhbHVlWzFdOwoKICAgICAgICAgIGlmICh2YWx1ZS5zaXplID4gMCkgewogICAgICAgICAgICByZXN1bHRbJ25lZ2F0aXZlX2ZpbHRlcnMnXVtrZXldID0gQXJyYXkuZnJvbSh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3I3LmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3I3LmYoKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICB2aWV3QnlJZDogZnVuY3Rpb24gdmlld0J5SWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICAgIHZhciBlbGVtZW50ID0gc3RhdGUudmlld3MuZmluZChmdW5jdGlvbiAoZWwpIHsKICAgICAgICAgIHJldHVybiBlbC5jaGFydE51bWJlciA9PSBpZDsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZWxlbWVudDsKICAgICAgfTsKICAgIH0sCiAgICBzdGFydFRpbWU6IGZ1bmN0aW9uIHN0YXJ0VGltZShzdGF0ZSkgewogICAgICAvLwogICAgICBpZiAoc3RhdGUuc3RhcnRUaW1lKSB7CiAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShzdGF0ZS5zdGFydFRpbWUpOwogICAgICAgIHJldHVybiB0aW1lLnRvVGltZVN0cmluZygpLnNsaWNlKDAsIDUpOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0sCiAgICBlbmRUaW1lOiBmdW5jdGlvbiBlbmRUaW1lKHN0YXRlKSB7CiAgICAgIC8vCiAgICAgIGlmIChzdGF0ZS5lbmRUaW1lKSB7CiAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZShzdGF0ZS5lbmRUaW1lKTsKICAgICAgICByZXR1cm4gdGltZS50b1RpbWVTdHJpbmcoKS5zbGljZSgwLCA1KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgc3RhcnREYXRlOiBmdW5jdGlvbiBzdGFydERhdGUoc3RhdGUpIHsKICAgICAgLy8KICAgICAgaWYgKHN0YXRlLnN0YXJ0VGltZSkgewogICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoc3RhdGUuc3RhcnRUaW1lKTsKICAgICAgICB2YXIgZGF0ZVdpdGhPZmZzZXQgPSBuZXcgRGF0ZShkYXRlIC0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApOwogICAgICAgIHJldHVybiBkYXRlV2l0aE9mZnNldC50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9LAogICAgZW5kRGF0ZTogZnVuY3Rpb24gZW5kRGF0ZShzdGF0ZSkgewogICAgICAvLwogICAgICBpZiAoc3RhdGUuZW5kVGltZSkgewogICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoc3RhdGUuZW5kVGltZSk7CiAgICAgICAgdmFyIGRhdGVXaXRoT2Zmc2V0ID0gbmV3IERhdGUoZGF0ZSAtIGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSAqIDYwMDAwKTsKICAgICAgICByZXR1cm4gZGF0ZVdpdGhPZmZzZXQudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["/home/someone/projects/pythia/client/src/store/index.js"],"names":["Vue","Vuex","summaryData","detailData","adjustFilter","convertViewData","checkFilterTracker","DashboardService","ViewService","ModeService","PCAPUploadService","use","Store","modules","state","dialog","dialogIsSummary","dialogIsFrozen","dialogDataLabel","dialogViewLabel","dialogCols","dialogChartNumber","dashboards","currentDashboard","snackbar","snackbarDefaultTimeout","snackbarTimeout","snackbarMessage","snackbarColor","mode","filterChangeTracker","added","Set","deleted","negativeFilterChangeTracker","filters","tracker","Map","negativeFilters","pCAPLoading","views","connectionPortsOfInterest","startTime","endTime","updatedFilter","mutations","setMode","name","resetFilterChangeTracker","resetNegativeFilterChangeTracker","addFilter","filter","get","type","add","addNegativeFilter","removeFilterByFilterName","item","isNegative","delete","removeAllFilters","entries","key","value","forEach","elem","set","removeAllNegativeFilters","removeView","id","i","length","chartNumber","splice","addView","viewData","push","updateView","element","find","el","isFrozen","isSummary","cols","dataLabel","viewLabel","view","openViewOption","dialogView","freezeView","unfreezeView","setSnackbar","newValue","setSnackbarMessage","setSnackbarColor","color","setSnackbarTimeout","timeout","setDialog","bool","setStartTime","setEndTime","setDashboards","addDashboard","newDashboard","removeDashboard","setCurrentDashboard","setViews","setPCAPLoading","changeUpdatedFilter","actions","context","commit","newOptions","triggerSnackbar","options","message","getAllData","dispatch","uploadPCAP","data","post","then","catch","error","response","finally","getDashboardNames","getAllNames","dashboard","localStorage","getItem","switchDashboard","setItem","switchMode","status","getMode","oldType","oldIsSummary","put","getters","numberOfChanges","size","hasFilter","viewCountByViewSummary","counter","viewCountByViewDetail","allFilters","result","filterByType","negativeFilterByType","filterRequestParams","Array","from","viewById","time","Date","toTimeString","slice","startDate","date","dateWithOffset","getTimezoneOffset","toISOString","endDate"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex';\nimport summaryData from './modules/summaryData'\nimport detailData from './modules/detailData'\nimport { adjustFilter, convertViewData, checkFilterTracker } from '../helperFunctions/storeHelperFunctions'\nimport DashboardService from '../services/DashboardService'\nimport ViewService from '../services/ViewService'\nimport ModeService from '../services/ModeService'\nimport PCAPUploadService from \"../services/PCAPUploadService\";\n\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n\n    modules: {\n        summaryData,\n        detailData,\n    },\n\n    state: {\n        //dialogData\n        dialog: false,\n        dialogIsSummary: false,\n        dialogIsFrozen: false,\n        dialogDataLabel: \"\",\n        dialogViewLabel: \"\",\n        dialogCols: \"\",\n        dialogChartNumber: \"\",\n\n        //dashboarddata\n        dashboards: [],\n        currentDashboard: \"\",\n\n        //snackbar data\n        snackbar: false,\n        snackbarDefaultTimeout: 5000,\n        snackbarTimeout: 5000,\n        snackbarMessage: \"\",\n        snackbarColor: \"\",\n        mode: \"\",\n\n        filterChangeTracker: {\n            added: new Set(),\n            deleted: new Set()\n\n        },\n\n        negativeFilterChangeTracker: {\n            added: new Set(),\n            deleted: new Set()\n        },\n\n\n        filters:\n        {\n            tracker: 0,\n            filters: new Map([['source', new Set()], ['target', new Set()], ['service', new Set()], ['proto', new Set()],\n            ['query_text', new Set()], ['q_answers', new Set()], ['q_type', new Set()], ['q_rcode', new Set()],\n            ['uid', new Set()], ['resp_ip_bytes', new Set()], ['orig_ip_bytes', new Set()], ['duration', new Set()],\n            ['resp_p', new Set()], ['origin_p', new Set()], ['notice_uid', new Set()], ['notice_header', new Set()],\n            ['notice_source', new Set()], ['notice_target', new Set()]])\n        },\n\n        negativeFilters: {\n            tracker: 0,\n            filters: new Map([['source', new Set()], ['target', new Set()], ['service', new Set()], ['proto', new Set()],\n            ['query_text', new Set()], ['q_answers', new Set()], ['q_type', new Set()], ['q_rcode', new Set()],\n            ['uid', new Set()], ['resp_ip_bytes', new Set()], ['orig_ip_bytes', new Set()], ['duration', new Set()],\n            ['resp_p', new Set()], ['origin_p', new Set()], ['notice_uid', new Set()], ['notice_header', new Set()],\n            ['notice_source', new Set()], ['notice_target', new Set()]])\n        },\n\n        pCAPLoading: false,\n        views: [],\n        connectionPortsOfInterest: [\"10/tcp\", \"21/tcp\", \"22/tcp\", \"23/tcp\", \"25/tcp\", \"80/tcp\", \"110/tcp\", \"139/tcp\", \"443/tcp\", \"445/tcp\", \"3389/tcp\", \"10/udp\", \"53/udp\",\n            \"67/udp\", \"123/udp\", \"135/udp\", \"137/udp\", \"138/udp\", \"161/udp\", \"445/udp\", \"631/udp\", \"1434/udp\"],\n        startTime: null,\n        endTime: null,\n        updatedFilter: false,\n\n    },\n    mutations: {\n\n        setMode(state, name) {\n            state.mode = name\n        },\n\n        resetFilterChangeTracker(state) {\n            state.filterChangeTracker.added = new Set()\n            state.filterChangeTracker.deleted = new Set()\n\n        },\n\n        resetNegativeFilterChangeTracker(state) {\n            state.negativeFilterChangeTracker.added = new Set()\n            state.negativeFilterChangeTracker.deleted = new Set()\n\n        },\n\n        addFilter(state, filter) {\n            filter = adjustFilter(filter)\n            state.filters.filters.get(filter.type).add(filter.filter)\n            state.filters.tracker = state.filters.tracker + 1\n            checkFilterTracker(state.filterChangeTracker.added, state.filterChangeTracker.deleted, filter)\n\n        },\n\n        addNegativeFilter(state, filter) {\n            filter = adjustFilter(filter)\n            state.negativeFilters.filters.get(filter.type).add(filter.filter)\n            state.negativeFilters.tracker = state.negativeFilters.tracker - 1\n            checkFilterTracker(state.negativeFilterChangeTracker.added, state.negativeFilterChangeTracker.deleted, filter)\n\n        },\n\n        removeFilterByFilterName(state, item) {\n            if (item.isNegative) {\n                state.negativeFilters.filters.get(item.type).delete(item.filter)\n                state.negativeFilters.tracker -= 1\n                checkFilterTracker(state.negativeFilterChangeTracker.deleted, state.negativeFilterChangeTracker.added, item)\n\n            }\n            else {\n                state.filters.filters.get(item.type).delete(item.filter)\n                state.filters.tracker -= 1\n                checkFilterTracker(state.filterChangeTracker.deleted, state.filterChangeTracker.added, item)\n\n            }\n        },\n\n        removeAllFilters(state) { \n            for (var [key, value] of state.filters.filters.entries()) {\n                value.forEach(elem => {\n                    var filter = { 'type': key, 'filter': elem }\n                    checkFilterTracker(state.filterChangeTracker.deleted, state.filterChangeTracker.added, filter)\n                })\n                state.filters.filters.set(key, new Set())\n            }\n            state.filters.tracker -= 1\n            for ([key, value] of state.negativeFilters.filters.entries()) {\n                value.forEach(elem => {\n                    var filter = { 'type': key, 'filter': elem }\n                    checkFilterTracker(state.negativeFilterChangeTracker.deleted, state.negativeFilterChangeTracker.added, filter)\n                })\n\n                state.negativeFilters.filters.set(key, new Set())\n            }\n            state.negativeFilters.tracker -= 1\n\n        },\n\n        removeAllNegativeFilters(state) { \n            for (var [key, value] of state.negativeFilters.filters.entries()) {\n                value.forEach(elem => {\n                    var filter = { 'type': key, 'filter': elem }\n                    checkFilterTracker(state.negativeFilterChangeTracker.deleted, state.negativeFilterChangeTracker.added, filter)\n                })\n\n                state.negativeFilters.filters.set(key, new Set())\n            }\n            state.negativeFilters.tracker -= 1\n        },\n\n        removeView(state, id) {\n            for (var i = 0; i < state.views.length; i++) {\n\n                if (state.views[i].chartNumber === id) {\n                    state.views.splice(i, 1);\n                }\n            }\n        },\n\n        addView(state, viewData) { \n            state.views.push(viewData)\n        },\n\n        updateView(state, viewData) { \n            var element = state.views.find(el => el.chartNumber == state.dialogChartNumber)\n            {\n                element.isFrozen = viewData.isFrozen\n                element.isSummary = viewData.isSummary\n                element.cols = viewData.cols\n                element.dataLabel = viewData.dataLabel\n                element.viewLabel = viewData.viewLabel\n                element.view = viewData.view\n                element.type = viewData.type\n            }\n        },\n        openViewOption(state, id) { \n            var element = state.views.find(el => el.chartNumber == id)\n            state.dialogIsSummary = element.isSummary\n            state.dialogIsFrozen = element.isFrozen\n            state.dialogChartNumber = id\n            state.dialogCols = element.cols\n            state.dialogDataLabel = element.dataLabel\n            state.dialogViewLabel = element.viewLabel\n            state.dialogView = element.view\n            state.dialog = true\n        },\n\n\n        freezeView(state, id) { \n            var element = state.views.find(el => el.chartNumber == id)\n            element.isFrozen = true\n        },\n\n        unfreezeView(state, id) { \n            var element = state.views.find(el => el.chartNumber == id)\n            element.isFrozen = false\n        },\n\n\n        setSnackbar(state, newValue) { \n            state.snackbar = newValue\n        },\n        setSnackbarMessage(state, newValue) {\n            state.snackbarMessage = newValue\n        },\n\n        setSnackbarColor(state, color) {\n            state.snackbarColor = color\n        },\n        setSnackbarTimeout(state, timeout) {\n            state.snackbarTimeout = timeout\n        },\n\n\n        setDialog(state, bool) {\n            state.dialog = bool\n        },\n\n        setStartTime(state, startTime) { \n            state.startTime = startTime;\n        },\n\n        setEndTime(state, endTime) { \n            state.endTime = endTime;\n        },\n\n        setDashboards(state, dashboards) {\n            state.dashboards = dashboards\n        },\n        addDashboard(state, newDashboard) {\n            state.dashboards.push(newDashboard)\n        },\n        removeDashboard(state, name) {\n            state.dashboards = state.dashboards.filter(elem => elem.name != name)\n        },\n\n        setCurrentDashboard(state, currentDashboard) {\n            state.currentDashboard = currentDashboard\n        },\n\n        setViews(state, views) {\n            state.views = views\n        },\n        setPCAPLoading(state, bool) {\n            state.pCAPLoading = bool\n        },\n        changeUpdatedFilter(state) {\n            state.updatedFilter = !state.updatedFilter;\n        }\n    },\n\n    actions: {\n\n        openViewOption(context, id) { \n            context.commit('openViewOption', id)\n        },\n        freezeView(context, id) { \n            context.commit('freezeView', id)\n        },\n\n        unfreezeView(context, id) { \n            context.commit('unfreezeView', id)\n        },\n\n        addFilter(context, filter) { \n            context.commit('addFilter', filter)\n        },\n\n        addNegativeFilter(context, filter) { \n            context.commit('addNegativeFilter', filter)\n        },\n        removeFilterByFilterName(context, name) { \n            context.commit('removeFilterByFilterName', name)\n        },\n        removeAllNegativeFilters(context) { \n            context.commit('removeAllNegativeFilters')\n        },\n\n        removeAllFilters(context) { \n            context.commit('removeAllFilters')\n        },\n\n        setDialog(context, dialog) {\n            context.commit('setDialog', dialog)\n        },\n\n\n        setStartTime(context, startTime) {\n            context.commit('setStartTime', startTime)\n        },\n\n        setEndTime(context, endTime) { \n            context.commit('setEndTime', endTime)\n        },\n\n        setSnackbar(context, newOptions) { \n            context.commit('setSnackbar', newOptions)\n        },\n\n        triggerSnackbar(context, options) { \n            let timeout = options.timeout || context.state.snackbarDefaultTimeout\n            context.commit('setSnackbarTimeout', timeout)\n            context.commit('setSnackbarMessage', options.message)\n            context.commit('setSnackbarColor', options.color)\n            context.commit('setSnackbar', true)\n\n        },\n\n        getAllData(context) { \n            context.commit('changeUpdatedFilter')\n            context.dispatch(\"summaryData/getDataByTime\")\n            context.dispatch(\"detailData/getDataByTime\")\n        },\n\n        uploadPCAP(context, data) { \n            context.commit('setPCAPLoading', true)\n            PCAPUploadService.post(data).then(() => {\n                context.commit('setSnackbarTimeout', 2000)\n                context.commit('setSnackbarMessage', ' The upload was successful, you can now switch to pcap mode')\n                context.commit('setSnackbarColor', 'green')\n                context.commit('setSnackbar', true)\n            })\n                .catch((error) => {\n                    if (error.response.data.message) {\n                        context.commit('setSnackbarTimeout', 5000)\n                        context.commit('setSnackbarMessage', error.response.data.message)\n                        context.commit('setSnackbarColor', 'error')\n                        context.commit('setSnackbar', true)\n                    }\n                })\n                .finally(() => { context.commit('setPCAPLoading', false) })\n        },\n\n        getDashboardNames(context) { \n            DashboardService.getAllNames().then(response => {\n                const dashboard = localStorage.getItem(\"current_dashboard\");\n                if (dashboard) {\n                    context.commit('setCurrentDashboard', dashboard)\n\n                }\n                else {\n                    context.commit('setCurrentDashboard', response.data[0].name)\n                }\n\n                context.commit('setDashboards', response.data)\n                context.dispatch('switchDashboard', context.state.currentDashboard)\n            })\n\n        },\n\n        addDashboard(context, name) { \n            const data = {\n                name: name\n            }\n            DashboardService.post(data).then((response) => {\n                context.commit('addDashboard', response.data)\n            })\n        },\n\n        removeDashboard(context, name) { \n            DashboardService.delete(name).then(() => {\n                context.commit('removeDashboard', name)\n                //change current dashboard if current dashboard is deleted\n                if (context.state.dashboards.length > 0 && context.state.currentDashboard == name) {\n                    context.dispatch('switchDashboard', context.state.dashboards[0].name)\n                }\n            })\n        },\n\n        switchDashboard(context, name) { \n            if (name == context.state.currentDashboard && context.state.views.length > 0) {\n                return\n            }\n            DashboardService.get(name).then((response) => {\n                response.data.views.forEach(elem => {\n                    convertViewData(elem)\n                })\n                context.commit('setViews', response.data.views)\n                context.commit('setCurrentDashboard', response.data.name)\n                context.dispatch(\"summaryData/getDataByTime\");\n                context.dispatch(\"detailData/getDataByTime\");\n                localStorage.setItem(\"current_dashboard\", response.data.name);\n\n            })\n        },\n\n        switchMode(context, name) { \n            if (name == context.state.mode) {\n                return\n            }\n            const data = {\n                mode: name\n            }\n\n            ModeService.post(data).then((response) => {\n                context.commit('setMode', response.data.mode)\n                context.dispatch(\"summaryData/getDataByTime\")\n                context.dispatch(\"detailData/getDataByTime\")\n            }).catch((error) => {\n                if (error.response.status == 503) {\n                    context.commit('setSnackbarTimeout', 2000)\n                    context.commit('setSnackbarMessage', error.response.data.message)\n                    context.commit('setSnackbarColor', 'error')\n                    context.commit('setSnackbar', true)\n                }\n            })\n        },\n\n        getMode(context) { \n            ModeService.get().then((response) => {\n                context.commit('setMode', response.data.mode)\n            })\n        },\n\n\n        removeView(context, viewData) { \n            ViewService.delete(viewData.chartNumber).then(() => {\n                context.commit('removeView', viewData.chartNumber)\n                if (viewData.isSummary) {\n                    context.dispatch('summaryData/deleteDataIfNotActive', viewData.type)\n                }\n                else {\n                    context.dispatch('detailData/deleteDataIfNotActive', viewData.type)\n                }\n            })\n        },\n\n        addView(context, viewData) { \n            const data = {\n                'dashboard_name': context.state.currentDashboard,\n                'data_label': viewData.dataLabel,\n                'view_label': viewData.viewLabel,\n                'view_type': viewData.type,\n                'is_frozen': viewData.isFrozen,\n                'is_summary': viewData.isSummary,\n                'view': viewData.view,\n                'cols': viewData.cols\n            }\n\n            ViewService.post(data).then(response => {\n                convertViewData(response.data)\n                context.commit(\"addView\", response.data)\n                if (viewData.isSummary) {\n                    context.dispatch('summaryData/getDataIfActive', viewData.type)\n                }\n                else {\n                    context.dispatch('detailData/getDataIfActive', viewData.type)\n                }\n            })\n\n        },\n\n        updateView(context, viewData) { \n            var element = context.state.views.find(el => el.chartNumber == context.state.dialogChartNumber)\n            var oldType = element.type\n            var oldIsSummary = element.isSummary;\n            if (element.cols == viewData.cols && element.view == viewData.view && element.view && element.type == viewData.type &&\n                element.isSummary == viewData.isSummary && viewData.isFrozen == element.isFrozen) {\n                return\n            }\n            else {\n                const data = {\n                    'id': context.state.dialogChartNumber,\n                    'dashboard_name': context.state.currentDashboard,\n                    'data_label': viewData.dataLabel,\n                    'view_label': viewData.viewLabel,\n                    'view_type': viewData.type,\n                    'is_frozen': viewData.isFrozen,\n                    'is_summary': viewData.isSummary,\n                    'view': viewData.view,\n                    'cols': viewData.cols\n                }\n                ViewService.put(data).then((response) => {\n                    convertViewData(response.data)\n                    context.commit('updateView', response.data)\n                    if (viewData.isSummary) {\n                        context.dispatch('summaryData/getDataIfActive', viewData.type)\n                        if (oldIsSummary) {\n                            context.dispatch('summaryData/deleteDataIfNotActive', oldType)\n                        }\n                        else {\n                            context.dispatch('detailData/deleteDataIfNotActive', oldType)\n                        }\n                    }\n                    else {\n                        context.dispatch('detailData/getDataIfActive', viewData.type)\n                        if (!oldIsSummary) {\n                            context.dispatch('detailData/getDataIfActive', viewData.type)\n                        }\n                        else {\n                            context.dispatch('summaryData/deleteDataIfNotActive', oldType)\n\n                        }\n\n                    }\n\n\n                })\n\n\n\n            }\n\n        },\n\n\n    },\n    getters: {\n\n        numberOfChanges(state) {\n            state.filters.tracker\n            state.negativeFilters.tracker\n            return state.filterChangeTracker.added.size + state.filterChangeTracker.deleted.size + state.negativeFilterChangeTracker.added.size + state.negativeFilterChangeTracker.deleted.size\n        },\n\n        hasFilter: () => (type) => { \n            return type != \"ipByteSummary\"\n\n        },\n        viewCountByViewSummary: (state) => (name) => {\n            var counter = 0;\n            state.views.forEach(elem => (elem.type === name && elem.isSummary) ? counter++ : true)\n            return counter\n        },\n\n        viewCountByViewDetail: (state) => (name) => {\n            var counter = 0;\n            state.views.forEach(elem => (elem.type === name && !elem.isSummary) ? counter++ : true)\n            return counter\n        },\n\n\n        allFilters(state) {\n            state.filters.tracker\n            state.negativeFilters.tracker\n            const result = []\n            for (var [key, value] of state.filters.filters.entries()) {\n                value.forEach(elem => {\n                    result.push({ 'type': key, 'filter': elem, 'isNegative': false })\n                })\n            }\n            for ([key, value] of state.negativeFilters.filters.entries()) {\n                value.forEach(elem => {\n                    result.push({ 'type': key, 'filter': elem, 'isNegative': true })\n                })\n            }\n            return result\n\n        },\n\n        filterByType: (state) => (type) => {\n            state.filters.tracker\n            return state.filters.filters.get(type)\n        },\n\n        negativeFilterByType: (state) => (type) => {\n            state.negativeFilters.tracker\n            return state.negativeFilters.filters.get(type)\n        },\n        filterRequestParams(state) {\n            state.updatedFilter\n\n            const filters = state.filters.filters\n            const negativeFilters = state.negativeFilters.filters\n            var result = {}\n            result['filters'] = {}\n            result['filters']['start_time'] = state.startTime / 1000\n            result['filters']['end_time'] = state.endTime / 1000\n\n            for (var [key, value] of filters.entries()) {\n                if (value.size > 0) {\n                    result['filters'][key] = Array.from(value)\n                }\n            }\n            result['negative_filters'] = {}\n            for ([key, value] of negativeFilters.entries()) {\n                if (value.size > 0) {\n                    result['negative_filters'][key] = Array.from(value)\n                }\n            }\n            return result\n        },\n\n\n        viewById: (state) => (id) => {\n            var element = state.views.find(el => el.chartNumber == id)\n            return element\n        },\n\n\n        startTime: state => { //\n            if (state.startTime) {\n                var time = new Date(state.startTime)\n                return time.toTimeString().slice(0, 5)\n            }\n            return null\n\n        },\n\n        endTime: state => { //\n            if (state.endTime) {\n                var time = new Date(state.endTime)\n                return time.toTimeString().slice(0, 5)\n            }\n            return null\n\n        },\n\n        startDate: state => { //\n            if (state.startTime) {\n                var date = new Date(state.startTime)\n                var dateWithOffset = new Date(date - (date.getTimezoneOffset() * 60000))\n                return dateWithOffset.toISOString().slice(0, 10)\n            }\n            return null\n\n        },\n\n        endDate: state => {//\n            if (state.endTime) {\n                var date = new Date(state.endTime)\n                var dateWithOffset = new Date(date - (date.getTimezoneOffset() * 60000))\n                return dateWithOffset.toISOString().slice(0, 10)\n            }\n            return null\n        }\n\n\n\n    }\n})\n"]}]}